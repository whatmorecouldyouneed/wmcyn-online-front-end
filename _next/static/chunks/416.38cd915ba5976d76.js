"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{9416:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var n=o(5893),r=o(7294),i=o(1838),a=o.n(i);let l=e=>{let{onClose:t}=e,o=(0,r.useRef)(null),[i,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e,t,n,r,i,a,s;if(!window.THREE||!window.THREEx){console.error("THREE.js or THREEx not found. Check CDN scripts in _document.tsx"),l(!1);return}let d=window.THREE,c=window.THREEx,m=()=>{if(!r||!e||!o.current)return;r.onResizeElement(),r.copyElementSizeTo(e.domElement),i&&null!==i.arController&&r.copyElementSizeTo(i.arController.canvas);let t=r.domElement,a=t.videoWidth/t.videoHeight;n.isPerspectiveCamera?(n.aspect=a,n.updateProjectionMatrix()):i&&n.projectionMatrix.copy(i.getProjectionMatrix()),e.setSize(o.current.clientWidth,o.current.clientHeight)},u=()=>{s=requestAnimationFrame(u),r&&i&&r.ready&&(i.update(r.domElement),t.visible=!!a&&a.visible,e.render(t,n))};try{(()=>{(e=new d.WebGLRenderer({antialias:!0,alpha:!0})).setClearColor(new d.Color("lightgrey"),0);let s=o.current;s&&(e.setSize(s.clientWidth,s.clientHeight),e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.left="0px",e.domElement.style.zIndex="auto",s.appendChild(e.domElement),t=new d.Scene,n=new d.Camera,t.add(n),(r=new c.ArToolkitSource({sourceType:"webcam"})).init(()=>{setTimeout(()=>{m(),l(!1)},500)}),(i=new c.ArToolkitContext({cameraParametersUrl:c.ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"})).init(()=>{n.projectionMatrix.copy(i.getProjectionMatrix())}),a=new d.Group,t.add(a),new c.ArMarkerControls(i,a,{type:"pattern",patternUrl:c.ArToolkitContext.baseURL+"../data/data/patt.hiro",changeMatrixMode:"modelViewMatrix"}),new d.FontLoader().load("https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",e=>{let t=new d.TextGeometry("wmcyn og logo tee (sample)\nnumber 1 of 1\nprinted april 17th, 2025\nin atlanta, ga",{font:e,size:.15,height:.01,curveSegments:8}),o=new d.MeshBasicMaterial({color:0}),n=new d.Mesh(t,o);n.name="rotatingText",t.computeBoundingBox();let r=-((t.boundingBox.max.x-t.boundingBox.min.x)/2);n.position.set(r-1,.01,0),n.rotation.set(-Math.PI/2,0,0),a.add(n)}),window.addEventListener("resize",m))})(),u()}catch(e){console.error("Error initializing AR scene:",e),l(!1)}return()=>{if(cancelAnimationFrame(s),window.removeEventListener("resize",m),null==a||a.children.forEach(e=>{e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose())}),t)for(;t.children.length>0;)t.remove(t.children[0]);if(r&&r.domElement){let e=r.domElement.srcObject;e&&e.getTracks().forEach(e=>e.stop()),r.domElement.remove()}null==e||e.dispose(),o.current&&(null==e?void 0:e.domElement)&&o.current.removeChild(e.domElement)}},[]),(0,n.jsxs)("div",{className:a().cameraOverlay,children:[i&&(0,n.jsx)("div",{className:a().arjsLoader,children:"Initializing AR..."}),(0,n.jsx)("div",{ref:o,style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1}}),(0,n.jsx)("button",{onClick:t,className:a().cameraCloseButton,style:{zIndex:2,position:"absolute"},children:"Close AR View"})]})}}}]);