(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{7476:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var i=r(5893),o=r(1540),n=r(180),a=r(5675),s=r.n(a),c=r(656),l=r.n(c);function d(t){let{src:e,alt:r}=t;return(0,i.jsx)("div",{className:l().imageContainer,children:(0,i.jsx)(s(),{src:e,alt:r,fill:!0,className:l().image})})}function u(t){var e;let{isOpen:r,closeCart:a}=t,{cartItems:s,removeFromCart:c,cartCount:u,cartTotal:m}=(0,o.f)(),{createShopifyCheckout:p,loading:h,error:_}=(0,n.g)();if(!r)return null;let f=async()=>{let t=s.map(t=>({variantId:t.variantId,quantity:t.quantity}));await p(t)};return(0,i.jsx)("div",{className:l().modalOverlay,onClick:a,children:(0,i.jsxs)("div",{className:l().modalContent,onClick:t=>t.stopPropagation(),children:[(0,i.jsx)("button",{className:l().closeButton,onClick:a,children:"\xd7"}),(0,i.jsx)("h2",{className:l().title,children:"your cart"}),0===s.length?(0,i.jsx)("p",{className:l().text,children:"your cart is empty."}):(0,i.jsxs)(i.Fragment,{children:[s.map(t=>(0,i.jsxs)("div",{className:l().item,children:[(0,i.jsx)(d,{src:t.image,alt:t.title}),(0,i.jsxs)("div",{className:l().itemDetails,children:[(0,i.jsx)("h3",{className:l().itemTitle,children:t.title}),t.variantTitle&&(0,i.jsx)("p",{className:l().itemVariant,children:t.variantTitle}),(0,i.jsxs)("p",{className:l().itemPrice,children:[parseFloat(t.price).toFixed(2)," ",t.currencyCode]}),(0,i.jsx)("button",{onClick:()=>c(t.variantId),className:l().removeButton,children:"remove"})]})]},t.variantId)),(0,i.jsxs)("div",{className:l().summary,children:[(0,i.jsxs)("p",{className:l().text,children:["subtotal: ",m.toFixed(2)," ",null===(e=s[0])||void 0===e?void 0:e.currencyCode]}),(0,i.jsxs)("p",{className:l().text,children:["items: ",u]}),(0,i.jsx)("button",{onClick:f,disabled:h,className:l().checkoutButton,children:h?"processing...":"checkout"}),_&&(0,i.jsxs)("p",{className:l().errorText,children:["error: ",_.message]})]})]})]})})}},1136:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var i=r(5893),o=r(7294),n=r(3889),a=r(180),s=r(1540);let c={product:{styles:{product:{"@media (min-width: 601px)":{"max-width":"100%","margin-left":"0","margin-bottom":"50px"},"text-align":"center"},title:{"font-size":"26px"},button:{"font-family":"Montserrat, sans-serif","font-weight":"bold","font-size":"14px","padding-top":"15px","padding-bottom":"15px",":hover":{"background-color":"#000000"},"background-color":"#000000",":focus":{"background-color":"#000000"},"border-radius":"4px","padding-left":"30px","padding-right":"30px"},quantityInput:{"font-size":"14px","padding-top":"15px","padding-bottom":"15px"},price:{"font-size":"18px"},compareAt:{"font-size":"15.3px"},unitPrice:{"font-size":"15.3px"}},buttonDestination:"checkout",layout:"horizontal",contents:{img:!1,imgWithCarousel:!0,description:!0},width:"100%",text:{button:"Buy now"},googleFonts:["Montserrat"]},cart:{styles:{button:{"font-family":"Montserrat, sans-serif","font-weight":"bold","font-size":"14px","padding-top":"15px","padding-bottom":"15px",":hover":{"background-color":"#000000"},"background-color":"#000000",":focus":{"background-color":"#000000"},"border-radius":"4px"}},text:{total:"Subtotal",button:"Checkout"},googleFonts:["Montserrat"]}};var l=r(1623),d=r.n(l),u=r(2261),m=r(9304);function p(t){let{product:e}=t,r=(0,o.useRef)(null),[l,p]=(0,o.useState)(null),h=(0,o.useRef)(null),{addToCart:_}=(0,s.f)(),{createShopifyCheckout:f,loading:y,error:g}=(0,a.g)(),[b,v]=(0,o.useState)(!1);if(!function(t,e){let{moneyFormat:r="${{amount}}",options:i={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.useEffect)(()=>{let o="shopify-buy-button",a=document.getElementById(o),s=()=>{window.ShopifyBuy&&window.ShopifyBuy.UI&&window.ShopifyBuy.UI.onReady(n.Z).then(o=>{o.createComponent("product",{id:e,node:t.current,moneyFormat:r,options:i})})};return a?window.ShopifyBuy&&window.ShopifyBuy.UI?s():a.onload||(a.onload=s):((a=document.createElement("script")).id=o,a.src="https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js",a.async=!0,document.head.appendChild(a),a.onload=s),()=>{document.getElementById(o)}},[t,e,r,i])}(r,e.id,{moneyFormat:"%24%7B%7Bamount%7D%7D",options:c}),(0,o.useEffect)(()=>{h.current&&setTimeout(()=>{var t;null===(t=h.current)||void 0===t||t.slideTo(0)},0)},[e.id]),!e||"object"!=typeof e)return console.error("Invalid product data:",e),null;if(!e.images||!Array.isArray(e.images))return console.error("Product missing images array:",e),null;if(!e.variants||!Array.isArray(e.variants)||0===e.variants.length)return console.error("Product missing valid variants:",e),null;if(!e.title)return console.error("Product missing title:",e),null;let S=e.variants[0];if(!S||!S.price||"string"!=typeof S.price.amount)return console.error("Product missing valid price:",e),null;let x=async()=>{if(e.variants&&e.variants.length>0){let t=e.variants[0].id;try{await f([{variantId:t,quantity:1}])}catch(t){console.error("Buy Now failed from component",t)}}else console.error("No product variants available for checkout.")};return(0,i.jsxs)("div",{className:d().card,children:[e.images&&Array.isArray(e.images)&&e.images.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:d().mainSwiper,children:(0,i.jsx)(u.tq,{modules:[m.W_,m.o3,m.tl],spaceBetween:10,slidesPerView:1,navigation:!0,pagination:{clickable:!0},thumbs:{swiper:l&&!l.destroyed?l:null},className:d().swiperWrapper,onSwiper:t=>{h.current=t},initialSlide:0,children:e.images.map((t,r)=>(0,i.jsx)(u.o5,{className:d().mainSlide,children:(0,i.jsx)("div",{className:d().imageContainer,children:(0,i.jsx)("img",{src:t.src,alt:t.altText||e.title||"Product image",className:d().mainImage})})},"main-".concat(t.id||t.src||r)))})}),e.images.length>1&&(0,i.jsx)("div",{className:d().thumbSwiper,children:(0,i.jsx)(u.tq,{modules:[m.o3,m.W_],onSwiper:p,spaceBetween:5,slidesPerView:"auto",watchSlidesProgress:!0,freeMode:!0,className:d().swiperWrapper,initialSlide:0,centeredSlides:!1,children:e.images.map((t,r)=>(0,i.jsx)(u.o5,{className:d().thumbSlide,children:r=>{let{isActive:o}=r;return(0,i.jsx)("div",{className:d().thumbContainer,children:(0,i.jsx)("img",{src:t.src,alt:"Thumbnail ".concat(t.altText||e.title||"Product image"),className:"".concat(d().thumbImage," ").concat(o?d().thumbImageActive:d().thumbImageInactive)})})}},"thumb-".concat(t.id||r)))})})]}):(0,i.jsx)("div",{className:d().noImages,children:"No images available"}),(0,i.jsx)("h2",{className:d().title,children:e.title||"Untitled Product"}),e.variants&&Array.isArray(e.variants)&&e.variants.length>0&&(0,i.jsxs)("div",{className:d().price,children:[Number(e.variants[0].price.amount).toFixed(2)," ",e.variants[0].price.currencyCode]}),e.descriptionHtml&&"string"==typeof e.descriptionHtml&&(0,i.jsx)("div",{className:d().description,dangerouslySetInnerHTML:{__html:e.descriptionHtml},style:{color:"#ffffff"}}),(0,i.jsx)("div",{ref:r}),(0,i.jsxs)("div",{className:d().buttonContainer,children:[(0,i.jsx)("button",{onClick:()=>{if(e.variants&&e.variants.length>0){v(!0);let t=e.variants[0];_(e,t,1),setTimeout(()=>v(!1),1e3)}else console.error("No product variants available to add to cart.")},disabled:b||!e.variants||0===e.variants.length,className:d().addToCartButton,children:b?"adding...":"add to cart"}),(0,i.jsx)("button",{onClick:x,disabled:y||!e.variants||0===e.variants.length,className:d().buyNowButton,children:y?"processing...":"buy now"})]}),g&&(0,i.jsxs)("p",{className:d().error,children:["buy now error: ",g.message]})]})}r(7160),r(2691),r(8509),r(3349)},180:(t,e,r)=>{"use strict";r.d(e,{g:()=>n});var i=r(7294),o=r(3889);let n=()=>{let[t,e]=(0,i.useState)(null),[r,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null);return{checkoutUrl:t,loading:r,error:a,createShopifyCheckout:async t=>{n(!0),s(null);try{let r=(0,o.Z)();if(!r)throw Error("Shopify client not initialized");let i=await r.checkout.create();if(!i||!i.id)throw Error("Failed to create checkout");let n=t.map(t=>({variantId:t.variantId,quantity:t.quantity,...t.customAttributes&&{customAttributes:t.customAttributes}})),a=await r.checkout.addLineItems(i.id,n);if(a&&a.webUrl)e(a.webUrl),window.location.href=a.webUrl;else throw Error("Failed to add items to checkout or retrieve checkout URL.")}catch(t){console.error("Shopify Checkout Error:",t),s(t instanceof Error?t:Error("An unknown error occurred during checkout.")),e(null)}finally{n(!1)}}}}},1923:(t,e,r)=>{"use strict";r.d(e,{b:()=>a});var i=r(7294),o=r(3889);let n=t=>({id:String(t.id),title:t.title,handle:t.handle,description:t.description,descriptionHtml:t.descriptionHtml,images:t.images.map(t=>({id:String(t.id),src:t.src,altText:t.altText||null})),variants:t.variants.map(t=>({id:String(t.id),title:t.title,price:{amount:String(t.price.amount),currencyCode:t.price.currencyCode},image:t.image?{src:t.image.src,altText:t.image.altText||null}:void 0}))}),a=()=>{let[t,e]=(0,i.useState)([]),[r,a]=(0,i.useState)(!0),[s,c]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let t;a(!0),console.log("useShopifyProducts: Starting product fetch..."),console.log("Shopify domain:","wmcyn-online-shop.myshopify.com"),console.log("Shopify storefront token exists:",!0);try{if(!(t=(0,o.Z)()))throw Error("Shopify client not initialized")}catch(t){throw console.error("Error initializing Shopify client:",t),t}if(console.log("useShopifyProducts: Client initialized successfully"),!t.product||"function"!=typeof t.product.fetchAll)throw Error("Shopify client missing required methods");let r=(await t.product.fetchAll()).map(n);console.log("useShopifyProducts: Successfully fetched products:",r.length),e(r)}catch(t){console.error("useShopifyProducts: Error fetching products:",t),t instanceof Error&&(console.error("Error name:",t.name),console.error("Error message:",t.message),console.error("Error stack:",t.stack),t.message.includes("Missing required Shopify environment variables")&&(console.error("Environment variables check:"),console.error("NEXT_PUBLIC_SHOPIFY_DOMAIN:","wmcyn-online-shop.myshopify.com"),console.error("NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN exists:",!0))),c(t)}finally{a(!1)}})()},[]),{products:t,loading:r,error:s}}},3889:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var i=r(31),o=r.n(i);let n={domain:"wmcyn-online-shop.myshopify.com",storefrontAccessToken:"4c1fff0b93d13d31f5cebbb8ac9f10c0"},a=null,s=()=>{if(!a){let t=Object.entries(n).filter(t=>{let[e,r]=t;return!r}).map(t=>{let[e]=t;return e});if(t.length>0)throw console.error("missing required shopify environment variables:",t),Error("missing required shopify environment variables: ".concat(t.join(", ")));console.log("initializing shopify client with domain:",n.domain);try{let t=n.domain.replace(/^https?:\/\//,"").replace(/\/$/,"");if(!(a=o().buildClient({domain:t,storefrontAccessToken:n.storefrontAccessToken,apiVersion:"2024-01"}))||!a.product)throw Error("failed to initialize shopify client")}catch(t){throw console.error("error initializing shopify client:",t),a=null,t}}if(!a)throw Error("failed to initialize shopify client");return a}},656:t=>{t.exports={modalOverlay:"Cart_modalOverlay__Ir6II",modalContent:"Cart_modalContent__SZijw",closeButton:"Cart_closeButton__IFk5t",title:"Cart_title__pE_Cp",text:"Cart_text__ymnk0",item:"Cart_item__r399M",imageContainer:"Cart_imageContainer__E36lY",image:"Cart_image__5bZ0j",itemDetails:"Cart_itemDetails__PrBBD",itemTitle:"Cart_itemTitle__Mva5W",itemVariant:"Cart_itemVariant__NF3QK",itemPrice:"Cart_itemPrice__je5LZ",removeButton:"Cart_removeButton__3MDJE",summary:"Cart_summary__qDlmO",checkoutButton:"Cart_checkoutButton__cgFwP",errorText:"Cart_errorText__7Jj8n"}},1623:t=>{t.exports={card:"ShopifyProductItem_card__bbP5a",mainSwiper:"ShopifyProductItem_mainSwiper__FuvSu",mainSlide:"ShopifyProductItem_mainSlide__WLvs1",imageContainer:"ShopifyProductItem_imageContainer__AUnwW",mainImage:"ShopifyProductItem_mainImage___t441",thumbImage:"ShopifyProductItem_thumbImage__OhDNH",thumbImageActive:"ShopifyProductItem_thumbImageActive__ineja",thumbImageInactive:"ShopifyProductItem_thumbImageInactive__O20GV",title:"ShopifyProductItem_title__CR9TB",description:"ShopifyProductItem_description__dVynK",price:"ShopifyProductItem_price__GW10T",buttonContainer:"ShopifyProductItem_buttonContainer__dCe7D",baseButton:"ShopifyProductItem_baseButton__CT7fe",addToCartButton:"ShopifyProductItem_addToCartButton__6DauK ShopifyProductItem_baseButton__CT7fe",buyNowButton:"ShopifyProductItem_buyNowButton__TDsru ShopifyProductItem_baseButton__CT7fe",error:"ShopifyProductItem_error__OKF4D",noImages:"ShopifyProductItem_noImages__krcLV",thumbContainer:"ShopifyProductItem_thumbContainer__pfqK3",thumbSlide:"ShopifyProductItem_thumbSlide__Q0efE",thumbSwiper:"ShopifyProductItem_thumbSwiper__RluJy",swiperWrapper:"ShopifyProductItem_swiperWrapper__jSgyZ"}},5438:t=>{t.exports={container:"Shop_container__Qkyq5",header:"Shop_header__oxoQL",title:"Shop_title__ViLym",cartButtonContainer:"Shop_cartButtonContainer__YqvDg",cartIconButton:"Shop_cartIconButton__4U79c",cartCountBadge:"Shop_cartCountBadge__8To4W",content:"Shop_content__SefRe",intro:"Shop_intro__yL85e",introText:"Shop_introText__LuPAf",productGrid:"Shop_productGrid__Z_AYm"}}}]);