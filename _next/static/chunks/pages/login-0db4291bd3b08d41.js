(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1123)}])},2145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let i=n(7294);function o(e,t){let n=(0,i.useRef)(()=>{}),o=(0,i.useRef)(()=>{});return(0,i.useMemo)(()=>e&&t?i=>{null===i?(n.current(),o.current()):(n.current=a(e,i),o.current=a(t,i))}:e||t,[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(5893);n(7294);var o=n(1500),a=n.n(o);let s=e=>{let{children:t,className:n="",variant:o="button",onClick:s}=e;return(0,i.jsxs)("div",{className:[a()["liquidGlass-wrapper"],a()[o],n].filter(Boolean).join(" "),onClick:s,children:[(0,i.jsx)("div",{className:a()["liquidGlass-effect"]}),(0,i.jsx)("div",{className:a()["liquidGlass-tint"]}),(0,i.jsx)("div",{className:a()["liquidGlass-shine"]}),(0,i.jsx)("div",{className:a()["liquidGlass-text"],children:t})]})}},1123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(5893),o=n(7294),a=n(1163),s=n(837),r=n(1664),l=n.n(r),c=n(658),d=n.n(c),u=n(3908);function _(){let e=(0,a.useRouter)(),{mode:t}=e.query,[n,r]=(0,o.useState)("login"),[c,_]=(0,o.useState)(""),[x,p]=(0,o.useState)(""),[g,f]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[I,b]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),{currentUser:j,login:B,signup:v,googleSignIn:S,resetPassword:q}=(0,s.a)();(0,o.useEffect)(()=>{j&&e.replace("/dashboard")},[j,e]),(0,o.useEffect)(()=>{{let e=sessionStorage.getItem("googleSignInError");e&&(h(e),sessionStorage.removeItem("googleSignInError"))}},[]),(0,o.useEffect)(()=>{"signup"===t&&r("signup")},[t]),(0,o.useEffect)(()=>{let e=()=>{w(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let C=async t=>{t.preventDefault(),b(!0),h("");try{if("login"===n)await B(c,x),e.replace("/dashboard");else if("signup"===n){if(x!==g){h("passwords do not match");return}await v(c,x),e.replace("/dashboard")}else if("forgot"===n){await q(c),h("password reset email sent! check your inbox.");return}}catch(e){h(e.message||"authentication failed")}finally{b(!1)}},G=async()=>{b(!0),h("");try{await S()}catch(e){h(e.message||"google sign in failed"),b(!1)}};return(0,i.jsx)("div",{className:d().container,children:(0,i.jsxs)("div",{className:d().authContainer,children:[(0,i.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",textAlign:"center",marginTop:y?"-1rem":"0"},children:"login"===n?"friends & family":"signup"===n?"sign up":"reset password"}),(0,i.jsxs)("form",{onSubmit:C,className:d().authForm,children:[(0,i.jsx)("input",{type:"email",value:c,onChange:e=>_(e.target.value),placeholder:"email",className:d().inputField,required:!0}),"forgot"!==n&&(0,i.jsx)("input",{type:"password",value:x,onChange:e=>p(e.target.value),placeholder:"password",className:d().inputField,required:!0}),"signup"===n&&(0,i.jsx)("input",{type:"password",value:g,onChange:e=>f(e.target.value),placeholder:"confirm password",className:d().inputField,required:!0}),(0,i.jsx)("button",{type:"submit",disabled:I,className:"".concat(d().submitButton," ").concat(d().primaryButton),children:I?"processing...":"login"===n?"login":"signup"===n?"join":"send reset signal"}),"login"===n&&(0,i.jsx)("button",{type:"button",onClick:()=>r("forgot"),className:"".concat(d().submitButton," ").concat(d().secondaryButton),children:"forgot password?"}),"login"!==n&&(0,i.jsx)("button",{type:"button",onClick:()=>r("login"),className:"".concat(d().submitButton," ").concat(d().secondaryButton),children:"back to login"}),m&&(0,i.jsx)("div",{className:m.includes("sent")?d().success:d().error,children:m})]}),(0,i.jsx)("div",{style:{margin:"1rem 0",textAlign:"center"},children:(0,i.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:"or"})}),(0,i.jsx)("button",{onClick:G,disabled:I,className:"".concat(d().submitButton," ").concat(d().googleButton),children:I?"connecting...":"continue with google"}),"login"===n&&(0,i.jsxs)("p",{style:{textAlign:"center",marginTop:"0.75rem",marginBottom:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["don't have an account?"," ",(0,i.jsx)("button",{onClick:()=>r("signup"),style:{background:"none",border:"none",color:"white",textDecoration:"underline",cursor:"pointer",fontSize:"14px",margin:0,padding:0,fontFamily:"inherit"},children:"sign up"})]}),"signup"===n&&(0,i.jsxs)("p",{style:{textAlign:"center",marginTop:"0.75rem",marginBottom:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["already have an account?"," ",(0,i.jsx)("button",{onClick:()=>r("login"),style:{background:"none",border:"none",color:"white",textDecoration:"underline",cursor:"pointer",fontSize:"14px",margin:0,padding:0,fontFamily:"inherit"},children:"login"})]}),(0,i.jsx)("div",{style:{marginTop:y?"1rem":"1.5rem"},children:(0,i.jsx)(u.Z,{children:(0,i.jsx)(l(),{href:"/",style:{textDecoration:"none",color:"white",fontSize:y?"14px":"16px"},children:"return to portal"})})})]})})}},1500:e=>{e.exports={"liquidGlass-wrapper":"LiquidGlassEffect_liquidGlass-wrapper__FjiJF","liquidGlass-effect":"LiquidGlassEffect_liquidGlass-effect__CFxa_","liquidGlass-tint":"LiquidGlassEffect_liquidGlass-tint__EFBeC","liquidGlass-shine":"LiquidGlassEffect_liquidGlass-shine__rcD99","liquidGlass-text":"LiquidGlassEffect_liquidGlass-text__vMjDO",menu:"LiquidGlassEffect_menu__B50pp",dock:"LiquidGlassEffect_dock__PLv3Q",button:"LiquidGlassEffect_button__W_SOI"}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",socialMediaContainer:"Index_socialMediaContainer__23tZH",socialMediaText:"Index_socialMediaText__1mJdx",socialMediaIcons:"Index_socialMediaIcons__Et_zi",socialMediaLogo:"Index_socialMediaLogo__9hYQu",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",authSwitchText:"Index_authSwitchText__AOHwQ",authSwitchLink:"Index_authSwitchLink__MxJsY",mirrorBackground:"Index_mirrorBackground__XKxso"}}},e=>{var t=t=>e(e.s=t);e.O(0,[424,888,774,179],()=>t(3236)),_N_E=e.O()}]);