(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{7443:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return r(675)}])},675:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var i=r(5893),o=r(9008),a=r.n(o),n=r(1923),s=r(1136),c=r(7476),l=r(1540),d=r(7294),m=r(5438),u=r.n(m);function _(){let{products:e,loading:t,error:r}=(0,n.b)(),{cartCount:o}=(0,l.f)(),[m,_]=(0,d.useState)(!1);if(t)return(0,i.jsx)("div",{children:"loading..."});if(r)return console.error("Shopify products error:",r),(0,i.jsx)("div",{children:"error loading products. please try again later."});if(!e)return(0,i.jsx)("div",{children:"no products found."});let h=e.filter(e=>"object"==typeof e&&null!==e&&e.id?!!e.title&&!!e.variants&&0!==e.variants.length||(console.warn("Product missing essential fields after serialization:",e),!1):(console.warn("Invalid product object in products array:",e),!1));return 0===h.length?(0,i.jsx)("div",{children:"no valid products available to display."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:"Shop | WMCYN"}),(0,i.jsx)("meta",{name:"description",content:"Shop WMCYN's exclusive merchandise."})]}),(0,i.jsxs)("div",{className:u().container,children:[(0,i.jsxs)("div",{className:u().header,children:[(0,i.jsx)("h1",{className:u().title,children:"shop"}),(0,i.jsx)("div",{className:u().cartButtonContainer,children:(0,i.jsxs)("button",{onClick:()=>_(!0),className:u().cartIconButton,"aria-label":"open cart",children:["cart",o>0&&(0,i.jsx)("span",{className:u().cartCountBadge,children:o})]})})]}),(0,i.jsxs)("div",{className:u().content,children:[(0,i.jsx)("div",{className:u().intro,children:(0,i.jsxs)("p",{className:u().introText,children:["welcome fam. ",(0,i.jsx)("br",{})," browse our collection of products below.",(0,i.jsx)("br",{}),"scan the hiro markers on the products ",(0,i.jsx)("br",{})," to see it come to life."]})}),(0,i.jsx)("div",{className:u().productGrid,children:h.map(e=>(0,i.jsx)(s.Z,{product:e},e.id))})]})]}),(0,i.jsx)(c.Z,{isOpen:m,closeCart:()=>_(!1)})]})}},7476:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var i=r(5893),o=r(1540),a=r(180),n=r(5675),s=r.n(n),c=r(656),l=r.n(c);function d(e){let{src:t,alt:r}=e;return(0,i.jsx)("div",{className:l().imageContainer,children:(0,i.jsx)(s(),{src:t,alt:r,fill:!0,className:l().image})})}function m(e){var t;let{isOpen:r,closeCart:n}=e,{cartItems:s,removeFromCart:c,cartCount:m,cartTotal:u}=(0,o.f)(),{createShopifyCheckout:_,loading:h,error:p}=(0,a.g)();if(!r)return null;let x=async()=>{let e=s.map(e=>({variantId:e.variantId,quantity:e.quantity}));await _(e)};return(0,i.jsx)("div",{className:l().modalOverlay,onClick:n,children:(0,i.jsxs)("div",{className:l().modalContent,onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{className:l().closeButton,onClick:n,children:"\xd7"}),(0,i.jsx)("h2",{className:l().title,children:"your cart"}),0===s.length?(0,i.jsx)("p",{className:l().text,children:"your cart is empty."}):(0,i.jsxs)(i.Fragment,{children:[s.map(e=>(0,i.jsxs)("div",{className:l().item,children:[(0,i.jsx)(d,{src:e.image,alt:e.title}),(0,i.jsxs)("div",{className:l().itemDetails,children:[(0,i.jsx)("h3",{className:l().itemTitle,children:e.title}),e.variantTitle&&(0,i.jsx)("p",{className:l().itemVariant,children:e.variantTitle}),(0,i.jsxs)("p",{className:l().itemPrice,children:[parseFloat(e.price).toFixed(2)," ",e.currencyCode]}),(0,i.jsx)("button",{onClick:()=>c(e.variantId),className:l().removeButton,children:"remove"})]})]},e.variantId)),(0,i.jsxs)("div",{className:l().summary,children:[(0,i.jsxs)("p",{className:l().text,children:["subtotal: ",u.toFixed(2)," ",null===(t=s[0])||void 0===t?void 0:t.currencyCode]}),(0,i.jsxs)("p",{className:l().text,children:["items: ",m]}),(0,i.jsx)("button",{onClick:x,disabled:h,className:l().checkoutButton,children:h?"processing...":"checkout"}),p&&(0,i.jsxs)("p",{className:l().errorText,children:["error: ",p.message]})]})]})]})})}},1923:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var i=r(7294),o=r(3889);let a=e=>({id:String(e.id),title:e.title,handle:e.handle,description:e.description,descriptionHtml:e.descriptionHtml,images:e.images.map(e=>({id:String(e.id),src:e.src,altText:e.altText||null})),variants:e.variants.map(e=>({id:String(e.id),title:e.title,price:{amount:String(e.price.amount),currencyCode:e.price.currencyCode},image:e.image?{src:e.image.src,altText:e.image.altText||null}:void 0}))}),n=()=>{let[e,t]=(0,i.useState)([]),[r,n]=(0,i.useState)(!0),[s,c]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let e;n(!0),console.log("useShopifyProducts: Starting product fetch..."),console.log("Shopify domain:","wmcyn-online-shop.myshopify.com"),console.log("Shopify storefront token exists:",!0);try{if(!(e=(0,o.Z)()))throw Error("Shopify client not initialized")}catch(e){throw console.error("Error initializing Shopify client:",e),e}if(console.log("useShopifyProducts: Client initialized successfully"),!e.product||"function"!=typeof e.product.fetchAll)throw Error("Shopify client missing required methods");let r=(await e.product.fetchAll()).map(a);console.log("useShopifyProducts: Successfully fetched products:",r.length),t(r)}catch(e){console.error("useShopifyProducts: Error fetching products:",e),e instanceof Error&&(console.error("Error name:",e.name),console.error("Error message:",e.message),console.error("Error stack:",e.stack),e.message.includes("Missing required Shopify environment variables")&&(console.error("Environment variables check:"),console.error("NEXT_PUBLIC_SHOPIFY_DOMAIN:","wmcyn-online-shop.myshopify.com"),console.error("NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN exists:",!0))),c(e)}finally{n(!1)}})()},[]),{products:e,loading:r,error:s}}},656:e=>{e.exports={modalOverlay:"Cart_modalOverlay__Ir6II",modalContent:"Cart_modalContent__SZijw",closeButton:"Cart_closeButton__IFk5t",title:"Cart_title__pE_Cp",text:"Cart_text__ymnk0",item:"Cart_item__r399M",imageContainer:"Cart_imageContainer__E36lY",image:"Cart_image__5bZ0j",itemDetails:"Cart_itemDetails__PrBBD",itemTitle:"Cart_itemTitle__Mva5W",itemVariant:"Cart_itemVariant__NF3QK",itemPrice:"Cart_itemPrice__je5LZ",removeButton:"Cart_removeButton__3MDJE",summary:"Cart_summary__qDlmO",checkoutButton:"Cart_checkoutButton__cgFwP",errorText:"Cart_errorText__7Jj8n"}},5438:e=>{e.exports={container:"Shop_container__Qkyq5",header:"Shop_header__oxoQL",title:"Shop_title__ViLym",cartButtonContainer:"Shop_cartButtonContainer__YqvDg",cartIconButton:"Shop_cartIconButton__4U79c",cartCountBadge:"Shop_cartCountBadge__8To4W",content:"Shop_content__SefRe",intro:"Shop_intro__yL85e",introText:"Shop_introText__LuPAf",productGrid:"Shop_productGrid__Z_AYm",dashboardButton:"Shop_dashboardButton__4Ofrg",cartButton:"Shop_cartButton__RK7Ba"}}},e=>{var t=t=>e(e.s=t);e.O(0,[822,96,675,136,442,888,774,179],()=>t(7443)),_N_E=e.O()}]);