(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{6591:(e,r,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug/token-info",function(){return o(1150)}])},1150:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>s});var i=o(5893),t=o(837),n=o(1163),d=o(7294),a=o(7920);function s(){let{currentUser:e}=(0,t.a)(),r=(0,n.useRouter)(),[o,s]=(0,d.useState)(null),[l,m]=(0,d.useState)(!1);(0,d.useEffect)(()=>{e||r.push("/login")},[e,r]);let u=async()=>{if(!(null===a.I8||void 0===a.I8?void 0:a.I8.currentUser)){s({error:"No current user"});return}m(!0);try{let e=await a.I8.currentUser.getIdToken(),r=await a.I8.currentUser.getIdTokenResult(),o=e.split("."),i=JSON.parse(atob(o[1]));s({token:e,claims:r.claims,payload:i,issuedAt:new Date(1e3*Number(i.iat)).toISOString(),expiresAt:new Date(1e3*Number(i.exp)).toISOString(),userId:i.user_id,email:i.email,projectId:i.aud}),console.log("[TokenInfo] Full token:",e),console.log("[TokenInfo] Decoded payload:",i)}catch(e){s({error:e.message})}finally{m(!1)}};return e?(0,i.jsxs)("main",{style:{padding:24,color:"white",fontFamily:"var(--font-outfit), sans-serif",background:"linear-gradient(180deg, rgba(20,20,30,1), rgba(10,10,15,1))",minHeight:"100vh"},children:[(0,i.jsx)("h1",{style:{marginBottom:"2rem",fontSize:"2rem"},children:"/debug/token-info"}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Current User"}),(0,i.jsx)("pre",{style:{background:"rgba(30, 35, 50, 0.8)",padding:"1rem",borderRadius:"8px",overflow:"auto",fontSize:"14px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:JSON.stringify({uid:e.uid,email:e.email,displayName:e.displayName,emailVerified:e.emailVerified},null,2)})]}),(0,i.jsx)("button",{onClick:u,disabled:l,style:{background:l?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"white",padding:"1rem 2rem",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"16px",fontFamily:"inherit",marginBottom:"2rem"},children:l?"Getting Token Info...":"Get Token Info"}),o&&!o.error&&(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem"},children:"Token Information"}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:"Full Token (copy this for backend testing)"}),(0,i.jsx)("textarea",{readOnly:!0,value:o.token,style:{width:"100%",minHeight:"100px",background:"rgba(30, 35, 50, 0.8)",padding:"1rem",borderRadius:"8px",color:"white",fontSize:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",fontFamily:"monospace",resize:"vertical"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:"Token Details"}),(0,i.jsx)("pre",{style:{background:"rgba(30, 35, 50, 0.8)",padding:"1rem",borderRadius:"8px",overflow:"auto",fontSize:"14px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:JSON.stringify({userId:o.userId,email:o.email,projectId:o.projectId,issuedAt:o.issuedAt,expiresAt:o.expiresAt},null,2)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{fontSize:"1.2rem",marginBottom:"0.5rem"},children:"Full Payload"}),(0,i.jsx)("pre",{style:{background:"rgba(30, 35, 50, 0.8)",padding:"1rem",borderRadius:"8px",overflow:"auto",fontSize:"14px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:JSON.stringify(o.payload,null,2)})]})]}),(null==o?void 0:o.error)&&(0,i.jsxs)("div",{style:{color:"#ff6b6b"},children:["Error: ",o.error]}),(0,i.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,i.jsx)("button",{onClick:()=>r.push("/debug/profile"),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontFamily:"inherit",marginRight:"1rem"},children:"back to debug/profile"}),(0,i.jsx)("button",{onClick:()=>r.push("/dashboard"),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontFamily:"inherit"},children:"back to dashboard"})]})]}):null}},1163:(e,r,o)=>{e.exports=o(3079)}},e=>{var r=r=>e(e.s=r);e.O(0,[888,774,179],()=>r(6591)),_N_E=e.O()}]);