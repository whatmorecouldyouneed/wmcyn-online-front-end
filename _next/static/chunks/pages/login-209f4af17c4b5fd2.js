(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1123)}])},8199:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_HMR_REFRESH:function(){return u},ACTION_NAVIGATE:function(){return i},ACTION_PREFETCH:function(){return s},ACTION_REFRESH:function(){return o},ACTION_RESTORE:function(){return a},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return n}});let o="refresh",i="navigate",a="restore",l="server-patch",s="prefetch",u="hmr-refresh",c="server-action";!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(n||(n={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7195:(e,t,n)=>{"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(8337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return I}});let r=n(8754),o=n(5893),i=r._(n(7294)),a=n(6075),l=n(3955),s=n(8041),u=n(9903),c=n(5490),d=n(1928),f=n(257),_=n(4229),p=n(7195),x=n(9470),g=n(8199),h=n(2145),m=new Set;function b(e,t,n,r,o,i){if(i||(0,l.isLocalURL)(t)){if(!r.bypassPrefetchedCheck&&!i){let o=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(m.has(o))return;m.add(o)}(async()=>i?e.prefetch(t,o):e.prefetch(t,n,r))().catch(e=>{})}}function y(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}let I=i.default.forwardRef(function(e,t){let n,r;let{href:s,as:m,children:I,prefetch:v=null,passHref:j,replace:C,shallow:E,scroll:w,locale:M,onClick:S,onMouseEnter:O,onTouchStart:T,legacyBehavior:k=!1,...B}=e;n=I,k&&("string"==typeof n||"number"==typeof n)&&(n=(0,o.jsx)("a",{children:n}));let P=i.default.useContext(d.RouterContext),N=i.default.useContext(f.AppRouterContext),R=null!=P?P:N,A=!P,L=!1!==v,q=null===v?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:G,as:F}=i.default.useMemo(()=>{if(!P){let e=y(s);return{href:e,as:m?y(m):e}}let[e,t]=(0,a.resolveHref)(P,s,!0);return{href:e,as:m?(0,a.resolveHref)(P,m):t||e}},[P,s,m]),D=i.default.useRef(G),U=i.default.useRef(F);k&&(r=i.default.Children.only(n));let z=k?r&&"object"==typeof r&&r.ref:t,[H,K,X]=(0,_.useIntersection)({rootMargin:"200px"}),Q=i.default.useCallback(e=>{(U.current!==F||D.current!==G)&&(X(),U.current=F,D.current=G),H(e)},[F,G,X,H]),W=(0,h.useMergedRef)(Q,z);i.default.useEffect(()=>{R&&K&&L&&b(R,G,F,{locale:M},{kind:q},A)},[F,G,K,M,L,null==P?void 0:P.locale,R,A,q]);let Z={ref:W,onClick(e){k||"function"!=typeof S||S(e),k&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),R&&!e.defaultPrevented&&function(e,t,n,r,o,a,s,u,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,l.isLocalURL)(n)))return;e.preventDefault();let f=()=>{let e=null==s||s;"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:a,locale:u,scroll:e}):t[o?"replace":"push"](r||n,{scroll:e})};c?i.default.startTransition(f):f()}(e,R,G,F,C,E,w,M,A)},onMouseEnter(e){k||"function"!=typeof O||O(e),k&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),R&&(L||!A)&&b(R,G,F,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:q},A)},onTouchStart:function(e){k||"function"!=typeof T||T(e),k&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),R&&(L||!A)&&b(R,G,F,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:q},A)}};if((0,u.isAbsoluteUrl)(F))Z.href=F;else if(!k||j||"a"===r.type&&!("href"in r.props)){let e=void 0!==M?M:null==P?void 0:P.locale,t=(null==P?void 0:P.isLocaleDomain)&&(0,p.getDomainLocale)(F,e,null==P?void 0:P.locales,null==P?void 0:P.domainLocales);Z.href=t||(0,x.addBasePath)((0,c.addLocale)(F,e,null==P?void 0:P.defaultLocale))}return k?i.default.cloneElement(r,Z):(0,o.jsx)("a",{...B,...Z,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return s}});let r=n(7294),o=n(4474),i="function"==typeof IntersectionObserver,a=new Map,l=[];function s(e){let{rootRef:t,rootMargin:n,disabled:s}=e,u=s||!i,[c,d]=(0,r.useState)(!1),f=(0,r.useRef)(null),_=(0,r.useCallback)(e=>{f.current=e},[]);return(0,r.useEffect)(()=>{if(i){if(u||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:o,elements:i}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=l.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=a.get(r)))return t;let o=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:o},l.push(n),a.set(n,t),t}(n);return i.set(e,t),o.observe(e),function(){if(i.delete(e),o.unobserve(e),0===i.size){o.disconnect(),a.delete(r);let e=l.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&l.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!c){let e=(0,o.requestIdleCallback)(()=>d(!0));return()=>(0,o.cancelIdleCallback)(e)}},[u,n,t,c,f.current]),[_,c,(0,r.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=n(7294);function o(e,t){let n=(0,r.useRef)(()=>{}),o=(0,r.useRef)(()=>{});return(0,r.useMemo)(()=>e&&t?r=>{null===r?(n.current(),o.current()):(n.current=i(e,r),o.current=i(t,r))}:e||t,[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5893);n(7294);var o=n(1500),i=n.n(o);let a=e=>{let{children:t,className:n="",variant:o="button",onClick:a}=e;return(0,r.jsxs)("div",{className:[i()["liquidGlass-wrapper"],i()[o],n].filter(Boolean).join(" "),onClick:a,children:[(0,r.jsx)("div",{className:i()["liquidGlass-effect"]}),(0,r.jsx)("div",{className:i()["liquidGlass-tint"]}),(0,r.jsx)("div",{className:i()["liquidGlass-shine"]}),(0,r.jsx)("div",{className:i()["liquidGlass-text"],children:t})]})}},1123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(5893),o=n(7294),i=n(1163),a=n(837),l=n(1664),s=n.n(l),u=n(658),c=n.n(u),d=n(3908);function f(){let e=(0,i.useRouter)(),{mode:t}=e.query,[n,l]=(0,o.useState)("login"),[u,f]=(0,o.useState)(""),[_,p]=(0,o.useState)(""),[x,g]=(0,o.useState)(""),[h,m]=(0,o.useState)(""),[b,y]=(0,o.useState)(!1),[I,v]=(0,o.useState)(!1),{currentUser:j,login:C,signup:E,googleSignIn:w,resetPassword:M}=(0,a.a)();(0,o.useEffect)(()=>{j&&e.replace("/dashboard")},[j,e]),(0,o.useEffect)(()=>{{let e=sessionStorage.getItem("googleSignInError");e&&(m(e),sessionStorage.removeItem("googleSignInError"))}},[]),(0,o.useEffect)(()=>{"signup"===t&&l("signup")},[t]),(0,o.useEffect)(()=>{let e=()=>{v(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let S=async t=>{t.preventDefault(),y(!0),m("");try{if("login"===n)await C(u,_),e.replace("/dashboard");else if("signup"===n){if(_!==x){m("passwords do not match");return}await E(u,_),e.replace("/dashboard")}else if("forgot"===n){await M(u),m("password reset email sent! check your inbox.");return}}catch(e){m(e.message||"authentication failed")}finally{y(!1)}},O=async()=>{y(!0),m("");try{await w()}catch(e){m(e.message||"google sign in failed"),y(!1)}};return(0,r.jsx)("div",{className:c().container,children:(0,r.jsxs)("div",{className:c().authContainer,children:[(0,r.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",textAlign:"center",marginTop:I?"-1rem":"0"},children:"login"===n?"friends & family":"signup"===n?"sign up":"reset password"}),(0,r.jsxs)("form",{onSubmit:S,className:c().authForm,children:[(0,r.jsx)("input",{type:"email",value:u,onChange:e=>f(e.target.value),placeholder:"email",className:c().inputField,required:!0}),"forgot"!==n&&(0,r.jsx)("input",{type:"password",value:_,onChange:e=>p(e.target.value),placeholder:"password",className:c().inputField,required:!0}),"signup"===n&&(0,r.jsx)("input",{type:"password",value:x,onChange:e=>g(e.target.value),placeholder:"confirm password",className:c().inputField,required:!0}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"".concat(c().submitButton," ").concat(c().primaryButton),children:b?"processing...":"login"===n?"login":"signup"===n?"join":"send reset signal"}),"login"===n&&(0,r.jsx)("button",{type:"button",onClick:()=>l("forgot"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"forgot password?"}),"login"!==n&&(0,r.jsx)("button",{type:"button",onClick:()=>l("login"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"back to login"}),h&&(0,r.jsx)("div",{className:h.includes("sent")?c().success:c().error,children:h})]}),(0,r.jsx)("div",{style:{margin:"1rem 0",textAlign:"center"},children:(0,r.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:"or"})}),(0,r.jsx)("button",{onClick:O,disabled:b,className:"".concat(c().submitButton," ").concat(c().googleButton),children:b?"connecting...":"continue with google"}),"login"===n&&(0,r.jsxs)("p",{style:{textAlign:"center",marginTop:"0.75rem",marginBottom:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["don't have an account?"," ",(0,r.jsx)("button",{onClick:()=>l("signup"),style:{background:"none",border:"none",color:"white",textDecoration:"underline",cursor:"pointer",fontSize:"14px",margin:0,padding:0,fontFamily:"inherit"},children:"sign up"})]}),"signup"===n&&(0,r.jsxs)("p",{style:{textAlign:"center",marginTop:"0.75rem",marginBottom:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:["already have an account?"," ",(0,r.jsx)("button",{onClick:()=>l("login"),style:{background:"none",border:"none",color:"white",textDecoration:"underline",cursor:"pointer",fontSize:"14px",margin:0,padding:0,fontFamily:"inherit"},children:"login"})]}),(0,r.jsx)("div",{style:{marginTop:I?"1rem":"1.5rem"},children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(s(),{href:"/",style:{textDecoration:"none",color:"white",fontSize:I?"14px":"16px"},children:"return to portal"})})})]})})}},1500:e=>{e.exports={"liquidGlass-wrapper":"LiquidGlassEffect_liquidGlass-wrapper__FjiJF","liquidGlass-effect":"LiquidGlassEffect_liquidGlass-effect__CFxa_","liquidGlass-tint":"LiquidGlassEffect_liquidGlass-tint__EFBeC","liquidGlass-shine":"LiquidGlassEffect_liquidGlass-shine__rcD99","liquidGlass-text":"LiquidGlassEffect_liquidGlass-text__vMjDO",menu:"LiquidGlassEffect_menu__B50pp",dock:"LiquidGlassEffect_dock__PLv3Q",button:"LiquidGlassEffect_button__W_SOI"}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",socialMediaContainer:"Index_socialMediaContainer__23tZH",socialMediaText:"Index_socialMediaText__1mJdx",socialMediaIcons:"Index_socialMediaIcons__Et_zi",socialMediaLogo:"Index_socialMediaLogo__9hYQu",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",authSwitchText:"Index_authSwitchText__AOHwQ",authSwitchLink:"Index_authSwitchLink__MxJsY",mirrorBackground:"Index_mirrorBackground__XKxso"}},1664:(e,t,n)=>{e.exports=n(8342)},1163:(e,t,n)=>{e.exports=n(3079)}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(3236)),_N_E=e.O()}]);