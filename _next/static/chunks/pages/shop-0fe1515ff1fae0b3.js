(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{7443:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return r(1638)}])},1638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var o=r(5893),i=r(9008),n=r.n(i),s=r(7294),l=r(31),a=r.n(l);let d={domain:"wmcyn-online-shop.myshopify.com",storefrontAccessToken:"4c1fff0b93d13d31f5cebbb8ac9f10c0"},c=null,p=()=>{if(!c){let e=Object.entries(d).filter(e=>{let[t,r]=e;return!r}).map(e=>{let[t]=e;return t});if(e.length>0)throw console.error("missing required shopify environment variables:",e),Error("missing required shopify environment variables: ".concat(e.join(", ")));console.log("initializing shopify client with domain:",d.domain);try{let e=d.domain.replace(/^https?:\/\//,"").replace(/\/$/,"");if(!(c=a().buildClient({domain:e,storefrontAccessToken:d.storefrontAccessToken,apiVersion:"2024-01"}))||!c.product)throw Error("failed to initialize shopify client")}catch(e){throw console.error("error initializing shopify client:",e),c=null,e}}if(!c)throw Error("failed to initialize shopify client");return c},u=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[i,n]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let e;o(!0),console.log("useShopifyProducts: Starting product fetch..."),console.log("Shopify domain:","wmcyn-online-shop.myshopify.com"),console.log("Shopify storefront token exists:",!0);try{if(!(e=p()))throw Error("Shopify client not initialized")}catch(e){throw console.error("Error initializing Shopify client:",e),e}if(console.log("useShopifyProducts: Client initialized successfully"),!e.product||"function"!=typeof e.product.fetchAll)throw Error("Shopify client missing required methods");let r=await e.product.fetchAll();console.log("useShopifyProducts: Successfully fetched products:",r.length),t(r)}catch(e){console.error("useShopifyProducts: Error fetching products:",e),e instanceof Error&&(console.error("Error name:",e.name),console.error("Error message:",e.message),console.error("Error stack:",e.stack),e.message.includes("Missing required Shopify environment variables")&&(console.error("Environment variables check:"),console.error("NEXT_PUBLIC_SHOPIFY_DOMAIN:","wmcyn-online-shop.myshopify.com"),console.error("NEXT_PUBLIC_SHOPIFY_STOREFRONT_ACCESS_TOKEN exists:",!0))),n(e)}finally{o(!1)}})()},[]),{products:e,loading:r,error:i}},h=()=>{let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)(!1),[i,n]=(0,s.useState)(null);return{checkoutUrl:e,loading:r,error:i,createShopifyCheckout:async e=>{o(!0),n(null);try{let r=p();if(!r)throw Error("Shopify client not initialized");let o=await r.checkout.create();if(!o||!o.id)throw Error("Failed to create checkout");let i=e.map(e=>({variantId:e.variantId,quantity:e.quantity,...e.customAttributes&&{customAttributes:e.customAttributes}})),n=await r.checkout.addLineItems(o.id,i);if(n&&n.webUrl)t(n.webUrl),window.location.href=n.webUrl;else throw Error("Failed to add items to checkout or retrieve checkout URL.")}catch(e){console.error("Shopify Checkout Error:",e),n(e instanceof Error?e:Error("An unknown error occurred during checkout.")),t(null)}finally{o(!1)}}}};var f=r(1540);let g={product:{styles:{product:{"@media (min-width: 601px)":{"max-width":"100%","margin-left":"0","margin-bottom":"50px"},"text-align":"center"},title:{"font-size":"26px"},button:{"font-family":"Montserrat, sans-serif","font-weight":"bold","font-size":"14px","padding-top":"15px","padding-bottom":"15px",":hover":{"background-color":"#000000"},"background-color":"#000000",":focus":{"background-color":"#000000"},"border-radius":"4px","padding-left":"30px","padding-right":"30px"},quantityInput:{"font-size":"14px","padding-top":"15px","padding-bottom":"15px"},price:{"font-size":"18px"},compareAt:{"font-size":"15.3px"},unitPrice:{"font-size":"15.3px"}},buttonDestination:"checkout",layout:"horizontal",contents:{img:!1,imgWithCarousel:!0,description:!0},width:"100%",text:{button:"Buy now"},googleFonts:["Montserrat"]},cart:{styles:{button:{"font-family":"Montserrat, sans-serif","font-weight":"bold","font-size":"14px","padding-top":"15px","padding-bottom":"15px",":hover":{"background-color":"#000000"},"background-color":"#000000",":focus":{"background-color":"#000000"},"border-radius":"4px"}},text:{total:"Subtotal",button:"Checkout"},googleFonts:["Montserrat"]}};var x=r(5675),m=r.n(x);r(561),r(5855);let y=r(6066),v=e=>{var t,r,i,n,l,a;let{product:d}=e,c=(0,s.useRef)(null),[u,x]=(0,s.useState)(null),[v,b]=(0,s.useState)(null),[w,j]=(0,s.useState)(0),S=(0,s.useRef)(null),k=(0,s.useRef)(null),{addToCart:C}=(0,f.f)(),{createShopifyCheckout:E,loading:T,error:z}=h(),[A,I]=(0,s.useState)(!1);if(!function(e,t){let{moneyFormat:r="${{amount}}",options:o={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.useEffect)(()=>{let i="shopify-buy-button",n=document.getElementById(i),s=()=>{window.ShopifyBuy&&window.ShopifyBuy.UI&&window.ShopifyBuy.UI.onReady(p).then(i=>{i.createComponent("product",{id:t,node:e.current,moneyFormat:r,options:o})})};return n?window.ShopifyBuy&&window.ShopifyBuy.UI?s():n.onload||(n.onload=s):((n=document.createElement("script")).id=i,n.src="https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js",n.async=!0,document.head.appendChild(n),n.onload=s),()=>{document.getElementById(i)}},[e,t,r,o])}(c,(null==d?void 0:d.id)?String(d.id):"",{moneyFormat:"%24%7B%7Bamount%7D%7D",options:g}),(0,s.useEffect)(()=>{S.current&&x(S.current),k.current&&b(k.current)},[]),!d||"object"!=typeof d)return console.error("Invalid product data:",d),null;if(!d.images||!Array.isArray(d.images))return console.error("Product missing images array:",d),null;if(!d.variants||!Array.isArray(d.variants)||0===d.variants.length)return console.error("Product missing valid variants:",d),null;if(!d.title)return console.error("Product missing title:",d),null;let P=d.variants[0];if(!P||!P.price||"string"!=typeof P.price.amount)return console.error("Product missing valid price:",d),null;let B={slidesToShow:(null===(t=d.images)||void 0===t?void 0:t.length)>=3?3:Math.max(1,(null===(r=d.images)||void 0===r?void 0:r.length)||1),slidesToScroll:1,asNavFor:u||void 0,dots:!1,centerMode:(null===(i=d.images)||void 0===i?void 0:i.length)>1,swipeToSlide:!0,focusOnSelect:!0,infinite:(null===(n=d.images)||void 0===n?void 0:n.length)>((null===(l=d.images)||void 0===l?void 0:l.length)>=3?3:Math.max(1,(null===(a=d.images)||void 0===a?void 0:a.length)||1)),arrows:!0,responsive:[{breakpoint:600,settings:{arrows:!1}}]},_={width:"100%",height:"auto",maxHeight:"300px",objectFit:"contain",borderRadius:"4px",margin:"0 auto",border:"none",outline:"none"},N={padding:"5px",cursor:"pointer",margin:"0 10px"},F={...N},R=async()=>{if(d.variants&&d.variants.length>0){let e=String(d.variants[0].id);try{await E([{variantId:e,quantity:1}])}catch(e){console.error("Buy Now failed from component",e)}}else console.error("No product variants available for checkout.")},W={padding:"12px 20px",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold",width:"100%",textTransform:"lowercase"},M={...W,backgroundColor:"#ffffff",color:"#000000",border:"1px solid #000000",opacity:A?.7:1},q={...W,backgroundColor:"#000000",color:"#ffffff",opacity:T?.7:1},H=e=>{let{src:t,alt:r,style:i}=e;return(0,o.jsx)("div",{style:{position:"relative",width:"100%",height:"300px"},children:(0,o.jsx)(m(),{src:t,alt:r,fill:!0,style:{objectFit:"contain"},sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})};return(0,o.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",margin:"20px",maxWidth:"350px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[d.images&&Array.isArray(d.images)&&d.images.length>0?(0,o.jsx)("div",{style:{width:"100%",marginBottom:"10px"},children:(0,o.jsx)(y,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,asNavFor:v||void 0,arrows:!0,afterChange:e=>j(e),responsive:[{breakpoint:600,settings:{arrows:!1}}],ref:S,children:d.images.map(e=>(0,o.jsx)("div",{children:(0,o.jsx)(H,{src:e.src,alt:e.altText||d.title||"Product image",style:_})},e.id||e.src))})}):(0,o.jsx)("div",{style:{height:"250px",width:"100%",background:"#eee",display:"flex",alignItems:"center",justifyContent:"center",color:"#777",marginBottom:"20px"},children:"No images available"}),d.images&&Array.isArray(d.images)&&d.images.length>1&&(0,o.jsx)("div",{style:{width:"90%",margin:"10px auto 20px auto"},children:(0,o.jsx)(y,{...B,ref:k,children:d.images.map((e,t)=>(0,o.jsx)("div",{style:t===w?F:N,children:(0,o.jsx)("div",{style:{position:"relative",width:"100%",height:"60px"},children:(0,o.jsx)(m(),{src:e.src,alt:"Thumbnail ".concat(e.altText||d.title||"Product image"),fill:!0,style:{objectFit:"cover",borderRadius:"4px",opacity:t===w?1:.7},sizes:"60px"})})},"thumb-wrapper-".concat(e.id||t)))})}),(0,o.jsx)("h2",{style:{fontSize:"1.5em",fontWeight:"bold",margin:"10px 0"},children:d.title||"Untitled Product"}),d.variants&&Array.isArray(d.variants)&&d.variants.length>0&&(0,o.jsxs)("div",{style:{fontSize:"1.2em",fontWeight:"bold",color:"#ffffff",margin:"10px 0"},children:[Number(d.variants[0].price.amount).toFixed(2)," ",d.variants[0].price.currencyCode]}),d.descriptionHtml&&"string"==typeof d.descriptionHtml&&(0,o.jsx)("div",{style:{fontSize:"0.9em",color:"#ffffff",marginBottom:"15px",maxHeight:"100px",overflowY:"auto"},dangerouslySetInnerHTML:{__html:d.descriptionHtml}}),(0,o.jsx)("div",{ref:c}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginTop:"15px"},children:[(0,o.jsx)("button",{onClick:()=>{if(d.variants&&d.variants.length>0){I(!0);let e=d.variants[0];C(d,e,1),setTimeout(()=>I(!1),1e3)}else console.error("No product variants available to add to cart.")},disabled:A||!d.variants||0===d.variants.length,style:M,children:A?"adding...":"add to cart"}),(0,o.jsx)("button",{onClick:R,disabled:T||!d.variants||0===d.variants.length,style:q,children:T?"processing...":"buy now"})]}),z&&(0,o.jsxs)("p",{style:{color:"red",marginTop:"10px"},children:["buy now error: ",z.message]})]})};var b=r(9603),w=r(9417);let j=()=>{var e;let{cartItems:t,isCartOpen:r,closeCart:i,removeFromCart:n,updateQuantity:s,cartTotal:l,cartCount:a}=(0,f.f)(),{createShopifyCheckout:d,loading:c,error:p}=h(),u={background:"transparent",border:"none",color:"red",cursor:"pointer",fontSize:"1rem",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center"};if(!r)return null;let g=async()=>{let e=t.map(e=>({variantId:e.variantId,quantity:e.quantity}));e.length>0?await d(e):alert("your cart is empty.")},x={display:"flex",alignItems:"center",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},y={color:"#333",fontSize:"0.9em",textTransform:"lowercase"},v=e=>{let{src:t,alt:r}=e;return(0,o.jsx)("div",{style:{position:"relative",width:"60px",height:"60px"},children:(0,o.jsx)(m(),{src:t,alt:r,fill:!0,style:{objectFit:"cover"},sizes:"60px"})})};return(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:i,children:(0,o.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflowY:"auto",position:"relative",color:"#333"},onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("button",{style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#333"},onClick:i,children:(0,o.jsx)(b.G,{icon:w.NBC})}),(0,o.jsx)("h2",{style:{color:"#000",marginBottom:"20px",textTransform:"lowercase"},children:"your cart"}),0===t.length?(0,o.jsx)("p",{style:y,children:"your cart is empty."}):(0,o.jsxs)(o.Fragment,{children:[t.map(e=>(0,o.jsxs)("div",{style:x,children:[e.imageSrc&&(0,o.jsx)(v,{src:e.imageSrc,alt:e.title}),(0,o.jsxs)("div",{style:{marginLeft:"10px",flex:1},children:[(0,o.jsx)("h3",{style:{margin:"0 0 5px 0"},children:e.title}),e.variantTitle&&(0,o.jsx)("p",{style:{margin:"0 0 5px 0",fontSize:"0.9em",color:"#666"},children:e.variantTitle}),(0,o.jsxs)("p",{style:{margin:"0 0 5px 0"},children:[e.price," ",e.currencyCode," x ",e.quantity]})]}),(0,o.jsx)("button",{onClick:()=>n(e.variantId),style:u,"aria-label":"Remove item",children:(0,o.jsx)(b.G,{icon:w.$aW})})]},e.variantId)),(0,o.jsxs)("div",{style:{marginTop:"20px",textAlign:"right",fontWeight:"bold"},children:[(0,o.jsxs)("p",{style:y,children:["subtotal: ",l.toFixed(2)," ",null===(e=t[0])||void 0===e?void 0:e.currencyCode]}),(0,o.jsxs)("p",{style:y,children:["items: ",a]})]}),(0,o.jsx)("button",{onClick:g,disabled:c,style:{backgroundColor:"#000000",color:"#ffffff",padding:"12px 20px",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer",fontWeight:"bold",width:"100%",marginTop:"20px",opacity:c?.7:1,textTransform:"lowercase"},children:c?"processing...":"checkout"}),p&&(0,o.jsxs)("p",{style:{color:"red",marginTop:"10px",textTransform:"lowercase"},children:["error: ",p.message]})]})]})})},S=()=>{let{products:e,loading:t,error:r}=u(),{openCart:i,cartCount:s}=(0,f.f)();if(t)return(0,o.jsx)("div",{children:"loading..."});if(r)return console.error("Shopify products error:",r),(0,o.jsx)("div",{children:"error loading products. please try again later."});if(!Array.isArray(e))return console.error("Products is not an array:",e),(0,o.jsx)("div",{children:"error: invalid product data"});let l=e.filter(e=>e&&"object"==typeof e?e.id?e.title?!!(e.variants&&Array.isArray(e.variants))&&0!==e.variants.length||(console.error("Product missing valid variants:",e),!1):(console.error("Product missing title:",e),!1):(console.error("Product missing id:",e),!1):(console.error("Invalid product in array:",e),!1));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n(),{children:[(0,o.jsx)("title",{children:"Shop | WMCYN"}),(0,o.jsx)("meta",{name:"description",content:"Shop WMCYN's exclusive merchandise."})]}),(0,o.jsxs)("div",{style:{paddingTop:"20px"},children:[" ",(0,o.jsx)("div",{style:{position:"relative",display:"inline-block",width:"100%",textAlign:"right",paddingRight:"20px",marginBottom:"10px"},children:(0,o.jsxs)("button",{onClick:i,style:{background:"transparent",border:"none",cursor:"pointer",padding:"10px",fontSize:"1.5rem",color:"#333"},"aria-label":"open cart",children:[(0,o.jsx)(b.G,{icon:w.Diu,size:"lg"}),s>0&&(0,o.jsx)("span",{style:{position:"absolute",top:"0px",right:"0px",background:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"0.75rem",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:s})]})}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)("h1",{children:"friends and family"}),(0,o.jsxs)("p",{style:{textAlign:"center",maxWidth:"600px",margin:"20px 0"},children:["welcome fam",(0,o.jsx)("br",{}),"scan to see your product come alive"]}),(0,o.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:l.length>0?l.map(e=>(0,o.jsx)(v,{product:e},"string"==typeof e.id?e.id:String(e.id))):(0,o.jsx)("p",{children:"no products found."})})]})]}),(0,o.jsx)(j,{})," "]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[976,822,675,338,888,774,179],()=>t(7443)),_N_E=e.O()}]);