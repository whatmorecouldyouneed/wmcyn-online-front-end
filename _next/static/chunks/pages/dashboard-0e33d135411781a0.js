(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(2464)}])},2464:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var i=n(5893),r=n(7294),a=n(1163),o=n(837),l=n(6242),s=n(8083),d=n(7050),c=n(3908),u=n(658),x=n.n(u);function m(){var e,t,n;let{currentUser:u,logout:m}=(0,o.a)(),{data:_,loading:p,error:h}=(0,l.U)(),{items:f,loading:g,error:y}=(0,s.m)(!0),v=(0,a.useRouter)(),[b,I]=(0,r.useState)(""),[w,j]=(0,r.useState)(""),[S,B]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[z,q]=(0,r.useState)(""),[F,W]=(0,r.useState)(!1),[E,G]=(0,r.useState)(!1),[N,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u||v.push("/login")},[u,v]),(0,r.useEffect)(()=>{T(!0);let e=()=>{G(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let A=async()=>{try{W(!0),await m(),v.push("/")}catch(e){console.error("logout failed:",e)}finally{W(!1)}},L=async e=>{if(e.preventDefault(),b&&w)try{k(!0),q(""),B(!1),I(""),j("")}catch(e){q(e.message||"transfer failed")}finally{k(!1)}},D=e=>{j(e),B(!0),q("")};return u?(0,i.jsxs)("div",{className:x().pageContainer,style:{scrollSnapType:"none",height:"auto",minHeight:"100vh",overflowY:"auto"},children:[(0,i.jsx)("div",{className:x().container,style:{height:"auto",minHeight:"100vh",justifyContent:"flex-start",paddingTop:N&&E?"1rem":"2rem",paddingBottom:"2rem",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:(0,i.jsxs)("div",{className:x().contentPanel,style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:N&&E?"1.5rem":"2rem",width:"100%",padding:"0 1rem"},children:(0,i.jsx)(d.Z,{src:"/wmcyn_logo_white.png",alt:"WMCYN Logo",className:x().logo,style:{maxWidth:E?"200px":"250px",height:"auto"}})}),(0,i.jsxs)("div",{style:{marginBottom:N&&E?"1.5rem":"2rem",textAlign:"center",width:"100%"},children:[(0,i.jsx)("h1",{style:{fontSize:"2rem",fontWeight:300,letterSpacing:"2px",marginBottom:"0.5rem",color:"white",textAlign:"center"},children:"wmcyn dashboard"}),(0,i.jsxs)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",margin:0,textAlign:"center"},children:["welcome back, ",null!==(e=null==_?void 0:_.username)&&void 0!==e?e:u.email]}),h&&(0,i.jsxs)("p",{style:{fontSize:"12px",color:"#ff6b6b",margin:"0.5rem 0 0 0",textAlign:"center"},children:["profile error: ",h]})]}),(0,i.jsxs)("div",{style:{marginBottom:N&&E?"1.5rem":"2rem",width:"100%"},children:[(0,i.jsxs)("h2",{style:{fontSize:"1.2rem",fontWeight:400,marginBottom:"1.5rem",color:"white",textAlign:"center"},children:["your wmcyn collection (",null!==(t=null==f?void 0:f.length)&&void 0!==t?t:0,")"]}),g?(0,i.jsx)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"rgba(255, 255, 255, 0.6)",fontSize:"16px"},children:"loading inventory..."}):y?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"#ff6b6b",fontSize:"16px"},children:["inventory error: ",y]}):(null!==(n=null==f?void 0:f.length)&&void 0!==n?n:0)===0?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"rgba(255, 255, 255, 0.6)",fontSize:"16px"},children:["no items in your collection yet.",(0,i.jsx)("br",{}),(0,i.jsx)("span",{style:{fontSize:"14px"},children:"scan wmcyn ids or purchase items to build your collection."})]}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:N&&E?"1fr":"repeat(auto-fit, minmax(280px, 1fr))",gap:N&&E?"1rem":"1.5rem",maxWidth:"900px",margin:"0 auto",padding:N&&E?"0 1rem":"0",width:"100%",justifyItems:"center"},children:(null!=f?f:[]).map(e=>{var t,n;return(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsxs)("div",{style:{padding:N&&E?"1rem":"1.5rem",textAlign:"center",width:"100%",maxWidth:"280px"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:500,marginBottom:"0.5rem",color:"white"},children:null!==(n=null===(t=e.product)||void 0===t?void 0:t.title)&&void 0!==n?n:e.productId}),e.acquiredAt&&(0,i.jsxs)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem"},children:["acquired: ",new Date(e.acquiredAt).toLocaleDateString()]}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>D(e.entitlementId),style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"13px",padding:"0.4rem 0.8rem",borderRadius:"0.6rem",cursor:"pointer",fontFamily:"inherit"},children:"transfer"})})]})},e.entitlementId)})})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:N&&E?"0.75rem":"1rem",flexWrap:"wrap",padding:N&&E?"0 1rem":"0",marginTop:N&&E?"1.5rem":"2rem",marginBottom:N&&E?"2rem":"1rem",width:"100%",maxWidth:N&&E?"400px":"600px"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>v.push("/shop/friends-and-family"),className:x().ctaButton,style:{fontSize:N&&E?"14px":"16px",padding:N&&E?"0.6rem 1.2rem":"0.75rem 1.5rem",minWidth:N&&E?"120px":"140px"},children:"shop"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>v.push("/#scannerSection"),className:x().ctaButton,style:{fontSize:N&&E?"14px":"16px",padding:N&&E?"0.6rem 1.2rem":"0.75rem 1.5rem",minWidth:N&&E?"120px":"140px"},children:"scan wmcyn id"})})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:N&&E?"0.75rem":"1rem",flexWrap:"wrap",padding:N&&E?"0 1rem":"0",marginTop:N&&E?"0.75rem":"1rem",marginBottom:"2rem",width:"100%",maxWidth:N&&E?"350px":"400px"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>v.push("/"),className:x().ctaButton,style:{fontSize:N&&E?"12px":"14px",padding:N&&E?"0.4rem 0.8rem":"0.5rem 1rem",minWidth:N&&E?"70px":"80px"},children:"portal"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:A,className:x().ctaButton,disabled:F,style:{fontSize:N&&E?"12px":"14px",padding:N&&E?"0.4rem 0.8rem":"0.5rem 1rem",minWidth:N&&E?"70px":"80px",backgroundColor:F?"rgba(255, 255, 255, 0.1)":"transparent"},children:F?"logging out...":"logout"})})]})]})}),S&&(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(20, 20, 30, 0.85)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)",animation:"modalFadeIn 0.4s ease-out forwards"},children:(0,i.jsxs)("div",{style:{background:"rgba(30, 35, 50, 0.85)",border:"1.5px solid rgba(255,255,255,0.22)",borderRadius:18,boxShadow:"0 8px 32px rgba(0,0,0,0.32)",padding:"28px 24px 24px 24px",margin:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"24px",minWidth:320,maxWidth:400,backdropFilter:"blur(12px)",position:"relative",animation:"modalSlideIn 0.5s ease-out forwards",transform:"translateY(-20px)",opacity:0},children:[(0,i.jsx)("button",{onClick:()=>B(!1),style:{position:"absolute",top:8,right:12,background:"none",border:"none",color:"white",fontSize:24,cursor:"pointer",padding:4,borderRadius:8,zIndex:2},children:"\xd7"}),(0,i.jsx)("h2",{style:{fontFamily:"var(--font-outfit), sans-serif",color:"white",fontWeight:500,fontSize:"1.5rem",margin:0,textAlign:"center",letterSpacing:"-0.02em"},children:"transfer item"}),(0,i.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.85)",fontFamily:"var(--font-outfit), sans-serif",fontSize:15,textAlign:"center",margin:0,maxWidth:300,lineHeight:1.4},children:"enter the email address of the wmcyn user you want to transfer this item to."}),(0,i.jsxs)("form",{onSubmit:L,style:{width:"100%",maxWidth:300,display:"flex",flexDirection:"column",gap:"16px"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("input",{type:"email",placeholder:"recipient email",value:b,onChange:e=>I(e.target.value),required:!0,style:{background:"transparent",border:"none",color:"white",fontSize:14,padding:"0.8rem 1rem",borderRadius:"0.8rem",width:"100%",boxSizing:"border-box",fontFamily:"var(--font-outfit), sans-serif"}})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px",width:"100%"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{type:"button",onClick:()=>B(!1),style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.7)",fontSize:14,padding:"0.8rem 1.2rem",borderRadius:"0.8rem",flex:1,cursor:"pointer",fontFamily:"var(--font-outfit), sans-serif"},children:"cancel"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{type:"submit",disabled:C||!b,style:{background:"none",border:"none",color:C||!b?"rgba(255, 255, 255, 0.5)":"white",fontSize:14,padding:"0.8rem 1.2rem",borderRadius:"0.8rem",flex:1,cursor:C||!b?"not-allowed":"pointer",fontFamily:"var(--font-outfit), sans-serif"},children:C?"transferring...":"transfer"})})]}),z&&(0,i.jsx)("p",{style:{color:"#ff6b6b",fontSize:14,textAlign:"center",margin:0,fontFamily:"var(--font-outfit), sans-serif",lineHeight:1.4},children:z})]})]})})]}):null}},7050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5893);let r=(0,n(7294).forwardRef)((e,t)=>{let{src:n,alt:r,priority:a,...o}=e;return(0,i.jsx)("img",{ref:t,...o,src:n,alt:r,loading:a?"eager":"lazy"})});r.displayName="NextImage";let a=r},3908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(5893);n(7294);var r=n(1500),a=n.n(r);let o=e=>{let{children:t,className:n="",variant:r="button",onClick:o}=e;return(0,i.jsxs)("div",{className:[a()["liquidGlass-wrapper"],a()[r],n].filter(Boolean).join(" "),onClick:o,children:[(0,i.jsx)("div",{className:a()["liquidGlass-effect"]}),(0,i.jsx)("div",{className:a()["liquidGlass-tint"]}),(0,i.jsx)("div",{className:a()["liquidGlass-shine"]}),(0,i.jsx)("div",{className:a()["liquidGlass-text"],children:t})]})}},8083:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var i=n(7294),r=n(4379);function a(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],[t,n]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0),[l,s]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let t=!0;return(async()=>{try{o(!0);let i=await (0,r.$v)(e);t&&n(i)}catch(e){var i;t&&s(null!==(i=null==e?void 0:e.message)&&void 0!==i?i:"Failed to load inventory")}finally{t&&o(!1)}})(),()=>{t=!1}},[e]),{items:t,loading:a,error:l}}},6242:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var i=n(7294),r=n(4379);function a(){let[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=!0;return(async()=>{try{a(!0);let n=await (0,r.US)();e&&t(n)}catch(t){var n;e&&l(null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"Failed to load profile")}finally{e&&a(!1)}})(),()=>{e=!1}},[]),{data:e,loading:n,error:o}}},4379:(e,t,n)=>{"use strict";n.d(t,{$v:()=>s,US:()=>l});var i=n(7920);let r=n(4155).env.NEXT_PUBLIC_DEV_X_UID;async function a(){return(null===i.I8||void 0===i.I8?void 0:i.I8.currentUser)?await i.I8.currentUser.getIdToken():(console.warn("[apiClient] No currentUser - user not signed in"),null)}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Headers(t.headers||{});n.set("content-type","application/json");let o=await a();o?n.set("authorization","Bearer ".concat(o)):r&&n.set("x-uid",r);let l=async()=>fetch("".concat("").concat(e),{...t,headers:n,cache:"no-store"}),s=await l();if(401===s.status&&(null===i.I8||void 0===i.I8?void 0:i.I8.currentUser))try{let e=await i.I8.currentUser.getIdToken(!0);e&&(n.set("authorization","Bearer ".concat(e)),n.delete("x-uid"),s=await l())}catch(e){console.warn("[apiClient] Token refresh failed:",e)}if(401===s.status&&r&&(n.delete("authorization"),n.set("x-uid",r),s=await l()),!s.ok){let e=await s.text().catch(()=>"");throw console.error("[apiClient] Request failed:",s.status,e),Error(e||"request_failed_".concat(s.status))}return await s.json().catch(()=>({}))}let l=()=>o("/v1/profile/me"),s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o("/v1/profile/inventory".concat(e?"?includeProduct=true":""))}},1500:e=>{e.exports={"liquidGlass-wrapper":"LiquidGlassEffect_liquidGlass-wrapper__FjiJF","liquidGlass-effect":"LiquidGlassEffect_liquidGlass-effect__CFxa_","liquidGlass-tint":"LiquidGlassEffect_liquidGlass-tint__EFBeC","liquidGlass-shine":"LiquidGlassEffect_liquidGlass-shine__rcD99","liquidGlass-text":"LiquidGlassEffect_liquidGlass-text__vMjDO",menu:"LiquidGlassEffect_menu__B50pp",dock:"LiquidGlassEffect_dock__PLv3Q",button:"LiquidGlassEffect_button__W_SOI"}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",socialMediaContainer:"Index_socialMediaContainer__23tZH",socialMediaText:"Index_socialMediaText__1mJdx",socialMediaIcons:"Index_socialMediaIcons__Et_zi",socialMediaLogo:"Index_socialMediaLogo__9hYQu",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",authSwitchText:"Index_authSwitchText__AOHwQ",authSwitchLink:"Index_authSwitchLink__MxJsY",mirrorBackground:"Index_mirrorBackground__XKxso"}},1163:(e,t,n)=>{e.exports=n(3079)}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(528)),_N_E=e.O()}]);