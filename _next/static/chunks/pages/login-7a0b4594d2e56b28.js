(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1123)}])},8199:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_HMR_REFRESH:function(){return s},ACTION_NAVIGATE:function(){return u},ACTION_PREFETCH:function(){return i},ACTION_REFRESH:function(){return o},ACTION_RESTORE:function(){return a},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return n}});let o="refresh",u="navigate",a="restore",l="server-patch",i="prefetch",s="hmr-refresh",c="server-action";!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(n||(n={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7195:(e,t,n)=>{"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(8337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return I}});let r=n(8754),o=n(5893),u=r._(n(7294)),a=n(6075),l=n(3955),i=n(8041),s=n(9903),c=n(5490),d=n(1928),f=n(257),_=n(4229),p=n(7195),g=n(9470),m=n(8199),h=n(2145),x=new Set;function y(e,t,n,r,o,u){if(u||(0,l.isLocalURL)(t)){if(!r.bypassPrefetchedCheck&&!u){let o=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(x.has(o))return;x.add(o)}(async()=>u?e.prefetch(t,o):e.prefetch(t,n,r))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}let I=u.default.forwardRef(function(e,t){let n,r;let{href:i,as:x,children:I,prefetch:v=null,passHref:C,replace:j,shallow:B,scroll:O,locale:P,onClick:T,onMouseEnter:E,onTouchStart:M,legacyBehavior:N=!1,...k}=e;n=I,N&&("string"==typeof n||"number"==typeof n)&&(n=(0,o.jsx)("a",{children:n}));let R=u.default.useContext(d.RouterContext),w=u.default.useContext(f.AppRouterContext),A=null!=R?R:w,S=!R,F=!1!==v,L=null===v?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:U,as:D}=u.default.useMemo(()=>{if(!R){let e=b(i);return{href:e,as:x?b(x):e}}let[e,t]=(0,a.resolveHref)(R,i,!0);return{href:e,as:x?(0,a.resolveHref)(R,x):t||e}},[R,i,x]),H=u.default.useRef(U),K=u.default.useRef(D);N&&(r=u.default.Children.only(n));let q=N?r&&"object"==typeof r&&r.ref:t,[X,z,G]=(0,_.useIntersection)({rootMargin:"200px"}),Q=u.default.useCallback(e=>{(K.current!==D||H.current!==U)&&(G(),K.current=D,H.current=U),X(e)},[D,U,G,X]),V=(0,h.useMergedRef)(Q,q);u.default.useEffect(()=>{A&&z&&F&&y(A,U,D,{locale:P},{kind:L},S)},[D,U,z,P,F,null==R?void 0:R.locale,A,S,L]);let W={ref:V,onClick(e){N||"function"!=typeof T||T(e),N&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),A&&!e.defaultPrevented&&function(e,t,n,r,o,a,i,s,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,l.isLocalURL)(n)))return;e.preventDefault();let f=()=>{let e=null==i||i;"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:a,locale:s,scroll:e}):t[o?"replace":"push"](r||n,{scroll:e})};c?u.default.startTransition(f):f()}(e,A,U,D,j,B,O,P,S)},onMouseEnter(e){N||"function"!=typeof E||E(e),N&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),A&&(F||!S)&&y(A,U,D,{locale:P,priority:!0,bypassPrefetchedCheck:!0},{kind:L},S)},onTouchStart:function(e){N||"function"!=typeof M||M(e),N&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),A&&(F||!S)&&y(A,U,D,{locale:P,priority:!0,bypassPrefetchedCheck:!0},{kind:L},S)}};if((0,s.isAbsoluteUrl)(D))W.href=D;else if(!N||C||"a"===r.type&&!("href"in r.props)){let e=void 0!==P?P:null==R?void 0:R.locale,t=(null==R?void 0:R.isLocaleDomain)&&(0,p.getDomainLocale)(D,e,null==R?void 0:R.locales,null==R?void 0:R.domainLocales);W.href=t||(0,g.addBasePath)((0,c.addLocale)(D,e,null==R?void 0:R.defaultLocale))}return N?u.default.cloneElement(r,W):(0,o.jsx)("a",{...k,...W,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return i}});let r=n(7294),o=n(4474),u="function"==typeof IntersectionObserver,a=new Map,l=[];function i(e){let{rootRef:t,rootMargin:n,disabled:i}=e,s=i||!u,[c,d]=(0,r.useState)(!1),f=(0,r.useRef)(null),_=(0,r.useCallback)(e=>{f.current=e},[]);return(0,r.useEffect)(()=>{if(u){if(s||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:o,elements:u}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=l.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=a.get(r)))return t;let o=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:o},l.push(n),a.set(n,t),t}(n);return u.set(e,t),o.observe(e),function(){if(u.delete(e),o.unobserve(e),0===u.size){o.disconnect(),a.delete(r);let e=l.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&l.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!c){let e=(0,o.requestIdleCallback)(()=>d(!0));return()=>(0,o.cancelIdleCallback)(e)}},[s,n,t,c,f.current]),[_,c,(0,r.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=n(7294);function o(e,t){let n=(0,r.useRef)(()=>{}),o=(0,r.useRef)(()=>{});return(0,r.useMemo)(()=>e&&t?r=>{null===r?(n.current(),o.current()):(n.current=u(e,r),o.current=u(t,r))}:e||t,[e,t])}function u(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(5893),o=n(7294),u=n(1163),a=n(837),l=n(1664),i=n.n(l),s=n(658),c=n.n(s);function d(){let e=(0,u.useRouter)(),{mode:t}=e.query,[n,l]=(0,o.useState)("login"),[s,d]=(0,o.useState)(""),[f,_]=(0,o.useState)(""),[p,g]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[x,y]=(0,o.useState)(!1),{currentUser:b,login:I,signup:v,googleSignIn:C,resetPassword:j}=(0,a.a)();(0,o.useEffect)(()=>{b&&e.push("/shop/friends-and-family")},[b,e]),(0,o.useEffect)(()=>{"signup"===t&&l("signup")},[t]);let B=async e=>{e.preventDefault(),y(!0),h("");try{if("login"===n)await I(s,f);else if("signup"===n){if(f!==p){h("passwords do not match");return}await v(s,f)}else if("forgot"===n){await j(s),h("password reset email sent! check your inbox.");return}}catch(e){h(e.message||"authentication failed")}finally{y(!1)}},O=async()=>{y(!0),h("");try{await C()}catch(e){h(e.message||"google sign in failed")}finally{y(!1)}};return(0,r.jsx)("div",{className:c().container,children:(0,r.jsxs)("div",{className:c().authContainer,children:[(0,r.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"2rem",textAlign:"center"},children:"login"===n?"friends and family":"signup"===n?"signup":"reset password"}),(0,r.jsxs)("div",{className:c().authModeSelector,children:[(0,r.jsx)("button",{onClick:()=>l("login"),className:"".concat(c().submitButton," ").concat("login"===n?c().primaryButton:c().secondaryButton),children:"login"}),(0,r.jsx)("button",{onClick:()=>l("signup"),className:"".concat(c().submitButton," ").concat("signup"===n?c().primaryButton:c().secondaryButton),children:"sign up"})]}),(0,r.jsx)("button",{onClick:O,disabled:x,className:"".concat(c().submitButton," ").concat(c().googleButton),children:x?"connecting...":"continue with google"}),(0,r.jsxs)("form",{onSubmit:B,className:c().authForm,children:[(0,r.jsx)("input",{type:"email",value:s,onChange:e=>d(e.target.value),placeholder:"email",className:c().inputField,required:!0}),"forgot"!==n&&(0,r.jsx)("input",{type:"password",value:f,onChange:e=>_(e.target.value),placeholder:"password",className:c().inputField,required:!0}),"signup"===n&&(0,r.jsx)("input",{type:"password",value:p,onChange:e=>g(e.target.value),placeholder:"confirm password",className:c().inputField,required:!0}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"".concat(c().submitButton," ").concat(c().primaryButton),children:x?"processing...":"login"===n?"login":"signup"===n?"join":"send reset signal"}),"login"===n&&(0,r.jsx)("button",{type:"button",onClick:()=>l("forgot"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"forgot password?"}),"login"!==n&&(0,r.jsx)("button",{type:"button",onClick:()=>l("login"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"back to login"}),m&&(0,r.jsx)("div",{className:m.includes("sent")?c().success:c().error,children:m})]}),(0,r.jsx)(i(),{href:"/",className:"".concat(c().submitButton," ").concat(c().secondaryButton),style:{marginTop:"2rem",textAlign:"center",display:"block"},children:"return to portal"})]})})}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",instagramContainer:"Index_instagramContainer__q1z6E",instagramLogo:"Index_instagramLogo__HiEhN",instagramText:"Index_instagramText__muuVt",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",mirrorBackground:"Index_mirrorBackground__XKxso"}},1664:(e,t,n)=>{e.exports=n(8342)},1163:(e,t,n)=>{e.exports=n(3079)}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(3236)),_N_E=e.O()}]);