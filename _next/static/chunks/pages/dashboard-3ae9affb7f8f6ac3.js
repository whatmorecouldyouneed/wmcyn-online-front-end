(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{528:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(8053)}])},7050:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(5893);let r=(0,n(7294).forwardRef)((e,t)=>{let{src:n,alt:r,priority:a,...o}=e;return(0,i.jsx)("img",{ref:t,...o,src:n,alt:r,loading:a?"eager":"lazy"})});r.displayName="NextImage";let a=r},3908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(5893);n(7294);var r=n(1500),a=n.n(r);let o=e=>{let{children:t,className:n="",variant:r="button",onClick:o}=e;return(0,i.jsxs)("div",{className:[a()["liquidGlass-wrapper"],a()[r],n].filter(Boolean).join(" "),onClick:o,children:[(0,i.jsx)("div",{className:a()["liquidGlass-effect"]}),(0,i.jsx)("div",{className:a()["liquidGlass-tint"]}),(0,i.jsx)("div",{className:a()["liquidGlass-shine"]}),(0,i.jsx)("div",{className:a()["liquidGlass-text"],children:t})]})}},8053:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(5893),r=n(7294),a=n(1163),o=n(837),s=n(7920),l=n(109),d=n(7050),c=n(3908),u=n(658),x=n.n(u);function _(){let{currentUser:e,logout:t}=(0,o.a)(),{products:n,transferProduct:u}=function(){let{currentUser:e}=(0,o.a)(),[t,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(!e){n([]);return}if(!s.RZ){console.error("Firestore not initialized");return}(async()=>{if(!s.RZ){console.error("Firestore not initialized");return}let t=(0,l.IO)((0,l.hJ)(s.RZ,"users/".concat(e.uid,"/products")));n((await (0,l.PL)(t)).docs.map(e=>({id:e.id,...e.data()})))})()},[e]),{products:t,transferProduct:async(t,i)=>{if(!e)throw Error("No user logged in");if(!s.RZ)throw Error("Firestore not initialized");let r=(0,l.IO)((0,l.hJ)(s.RZ,"users"),(0,l.ar)("email","==",i)),a=await (0,l.PL)(r);if(a.empty)throw Error("User not found");let o=a.docs[0].id,d=(0,l.JU)(s.RZ,"users/".concat(e.uid,"/products"),t),c=await (0,l.QT)(d);if(!c.exists())throw Error("Product not found");let u=c.data();await (0,l.pl)((0,l.JU)(s.RZ,"users/".concat(o,"/products"),t),u),await (0,l.oe)(d);let x=(0,l.IO)((0,l.hJ)(s.RZ,"users/".concat(e.uid,"/products")));n((await (0,l.PL)(x)).docs.map(e=>({id:e.id,...e.data()})))}}}(),_=(0,a.useRouter)(),[m,h]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[I,j]=(0,r.useState)(""),[v,S]=(0,r.useState)(!1),[B,C]=(0,r.useState)(!1),[k,q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e||_.push("/login")},[e,_]),(0,r.useEffect)(()=>{q(!0);let e=()=>{C(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let z=async()=>{try{S(!0),await t(),_.push("/")}catch(e){console.error("logout failed:",e)}finally{S(!1)}},F=async e=>{if(e.preventDefault(),m&&p)try{w(!0),j(""),await u(p,m),y(!1),h(""),f("")}catch(e){j(e.message||"transfer failed")}finally{w(!1)}},E=e=>{f(e),y(!0),j("")};return e?(0,i.jsxs)("div",{className:x().pageContainer,style:{scrollSnapType:"none",height:"auto",minHeight:"100vh",overflowY:"auto"},children:[(0,i.jsx)("div",{className:x().container,style:{height:"auto",minHeight:"100vh",justifyContent:"flex-start",paddingTop:k&&B?"1rem":"2rem",paddingBottom:"2rem",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:(0,i.jsxs)("div",{className:x().contentPanel,style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:B?"center":"space-between",alignItems:"center",marginBottom:k&&B?"1.5rem":"2rem",flexWrap:"wrap",gap:k&&B?"0.75rem":"1rem",width:"100%",padding:"0 1rem"},children:[(0,i.jsx)(d.Z,{src:"/wmcyn_logo_white.png",alt:"WMCYN Logo",className:x().logo,style:{maxWidth:B?"200px":"250px",height:"auto"}}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginTop:B?"1rem":"0"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>_.push("/"),className:x().ctaButton,style:{fontSize:"14px",padding:"0.5rem 1rem"},children:"portal"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:z,className:x().ctaButton,disabled:v,style:{fontSize:"14px",padding:"0.5rem 1rem",backgroundColor:v?"rgba(255, 255, 255, 0.1)":"transparent"},children:v?"logging out...":"logout"})})]})]}),(0,i.jsxs)("div",{style:{marginBottom:k&&B?"1.5rem":"2rem",textAlign:"center",width:"100%"},children:[(0,i.jsx)("h1",{style:{fontSize:"2rem",fontWeight:300,letterSpacing:"2px",marginBottom:"0.5rem",color:"white",textAlign:"center"},children:"wmcyn dashboard"}),(0,i.jsxs)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",margin:0,textAlign:"center"},children:["welcome back, ",e.email]})]}),(0,i.jsxs)("div",{style:{marginBottom:k&&B?"1.5rem":"2rem",width:"100%"},children:[(0,i.jsxs)("h2",{style:{fontSize:"1.2rem",fontWeight:400,marginBottom:"1.5rem",color:"white",textAlign:"center"},children:["your wmcyn collection (",n.length,")"]}),0===n.length?(0,i.jsxs)("div",{style:{textAlign:"center",padding:"3rem 1rem",color:"rgba(255, 255, 255, 0.6)",fontSize:"16px"},children:["no items in your collection yet.",(0,i.jsx)("br",{}),(0,i.jsx)("span",{style:{fontSize:"14px"},children:"scan wmcyn ids or purchase items to build your collection."})]}):(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:k&&B?"1fr":"repeat(auto-fit, minmax(280px, 1fr))",gap:k&&B?"1rem":"1.5rem",maxWidth:"900px",margin:"0 auto",padding:k&&B?"0 1rem":"0",width:"100%",justifyItems:"center"},children:n.map(e=>(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsxs)("div",{style:{padding:k&&B?"1rem":"1.5rem",textAlign:"center",width:"100%",maxWidth:"280px"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:500,marginBottom:"0.5rem",color:"white"},children:e.name}),e.acquired&&(0,i.jsxs)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginBottom:"1rem"},children:["acquired: ",new Date(e.acquired).toLocaleDateString()]}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>E(e.id),style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"13px",padding:"0.4rem 0.8rem",borderRadius:"0.6rem",cursor:"pointer",fontFamily:"inherit"},children:"transfer"})})]})},e.id))})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:k&&B?"0.75rem":"1rem",flexWrap:"wrap",padding:k&&B?"0 1rem":"0",marginTop:k&&B?"1.5rem":"2rem",marginBottom:k&&B?"2rem":"1rem",width:"100%",maxWidth:"400px"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>_.push("/shop/friends-and-family"),className:x().ctaButton,children:"shop"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{onClick:()=>_.push("/#scannerSection"),className:x().ctaButton,children:"scan wmcyn id"})})]})]})}),g&&(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(20, 20, 30, 0.85)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)",animation:"modalFadeIn 0.4s ease-out forwards"},children:(0,i.jsxs)("div",{style:{background:"rgba(30, 35, 50, 0.85)",border:"1.5px solid rgba(255,255,255,0.22)",borderRadius:18,boxShadow:"0 8px 32px rgba(0,0,0,0.32)",padding:"28px 24px 24px 24px",margin:"20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"24px",minWidth:320,maxWidth:400,backdropFilter:"blur(12px)",position:"relative",animation:"modalSlideIn 0.5s ease-out forwards",transform:"translateY(-20px)",opacity:0},children:[(0,i.jsx)("button",{onClick:()=>y(!1),style:{position:"absolute",top:8,right:12,background:"none",border:"none",color:"white",fontSize:24,cursor:"pointer",padding:4,borderRadius:8,zIndex:2},children:"\xd7"}),(0,i.jsx)("h2",{style:{fontFamily:"var(--font-outfit), sans-serif",color:"white",fontWeight:500,fontSize:"1.5rem",margin:0,textAlign:"center",letterSpacing:"-0.02em"},children:"transfer item"}),(0,i.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.85)",fontFamily:"var(--font-outfit), sans-serif",fontSize:15,textAlign:"center",margin:0,maxWidth:300,lineHeight:1.4},children:"enter the email address of the wmcyn user you want to transfer this item to."}),(0,i.jsxs)("form",{onSubmit:F,style:{width:"100%",maxWidth:300,display:"flex",flexDirection:"column",gap:"16px"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("input",{type:"email",placeholder:"recipient email",value:m,onChange:e=>h(e.target.value),required:!0,style:{background:"transparent",border:"none",color:"white",fontSize:14,padding:"0.8rem 1rem",borderRadius:"0.8rem",width:"100%",boxSizing:"border-box",fontFamily:"var(--font-outfit), sans-serif"}})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px",width:"100%"},children:[(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{type:"button",onClick:()=>y(!1),style:{background:"none",border:"none",color:"rgba(255, 255, 255, 0.7)",fontSize:14,padding:"0.8rem 1.2rem",borderRadius:"0.8rem",flex:1,cursor:"pointer",fontFamily:"var(--font-outfit), sans-serif"},children:"cancel"})}),(0,i.jsx)(c.Z,{variant:"button",children:(0,i.jsx)("button",{type:"submit",disabled:b||!m,style:{background:"none",border:"none",color:b||!m?"rgba(255, 255, 255, 0.5)":"white",fontSize:14,padding:"0.8rem 1.2rem",borderRadius:"0.8rem",flex:1,cursor:b||!m?"not-allowed":"pointer",fontFamily:"var(--font-outfit), sans-serif"},children:b?"transferring...":"transfer"})})]}),I&&(0,i.jsx)("p",{style:{color:"#ff6b6b",fontSize:14,textAlign:"center",margin:0,fontFamily:"var(--font-outfit), sans-serif",lineHeight:1.4},children:I})]})]})})]}):null}},1500:e=>{e.exports={"liquidGlass-wrapper":"LiquidGlassEffect_liquidGlass-wrapper__FjiJF","liquidGlass-effect":"LiquidGlassEffect_liquidGlass-effect__CFxa_","liquidGlass-tint":"LiquidGlassEffect_liquidGlass-tint__EFBeC","liquidGlass-shine":"LiquidGlassEffect_liquidGlass-shine__rcD99","liquidGlass-text":"LiquidGlassEffect_liquidGlass-text__vMjDO",menu:"LiquidGlassEffect_menu__B50pp",dock:"LiquidGlassEffect_dock__PLv3Q",button:"LiquidGlassEffect_button__W_SOI"}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",socialMediaContainer:"Index_socialMediaContainer__23tZH",socialMediaText:"Index_socialMediaText__1mJdx",socialMediaIcons:"Index_socialMediaIcons__Et_zi",socialMediaLogo:"Index_socialMediaLogo__9hYQu",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",authSwitchText:"Index_authSwitchText__AOHwQ",authSwitchLink:"Index_authSwitchLink__MxJsY",mirrorBackground:"Index_mirrorBackground__XKxso"}},1163:(e,t,n)=>{e.exports=n(3079)}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(528)),_N_E=e.O()}]);