(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1123)}])},8199:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_HMR_REFRESH:function(){return s},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return i},ACTION_REFRESH:function(){return o},ACTION_RESTORE:function(){return l},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return u},PrefetchCacheEntryStatus:function(){return r},PrefetchKind:function(){return n}});let o="refresh",a="navigate",l="restore",u="server-patch",i="prefetch",s="hmr-refresh",c="server-action";!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(n||(n={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7195:(e,t,n)=>{"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(8337),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return I}});let r=n(8754),o=n(5893),a=r._(n(7294)),l=n(6075),u=n(3955),i=n(8041),s=n(9903),c=n(5490),d=n(1928),f=n(257),_=n(4229),p=n(7195),m=n(9470),x=n(8199),g=n(2145),h=new Set;function y(e,t,n,r,o,a){if(a||(0,u.isLocalURL)(t)){if(!r.bypassPrefetchedCheck&&!a){let o=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(h.has(o))return;h.add(o)}(async()=>a?e.prefetch(t,o):e.prefetch(t,n,r))().catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}let I=a.default.forwardRef(function(e,t){let n,r;let{href:i,as:h,children:I,prefetch:v=null,passHref:j,replace:C,shallow:E,scroll:B,locale:O,onClick:N,onMouseEnter:P,onTouchStart:M,legacyBehavior:T=!1,...k}=e;n=I,T&&("string"==typeof n||"number"==typeof n)&&(n=(0,o.jsx)("a",{children:n}));let w=a.default.useContext(d.RouterContext),R=a.default.useContext(f.AppRouterContext),q=null!=w?w:R,A=!w,S=!1!==v,G=null===v?x.PrefetchKind.AUTO:x.PrefetchKind.FULL,{href:L,as:F}=a.default.useMemo(()=>{if(!w){let e=b(i);return{href:e,as:h?b(h):e}}let[e,t]=(0,l.resolveHref)(w,i,!0);return{href:e,as:h?(0,l.resolveHref)(w,h):t||e}},[w,i,h]),D=a.default.useRef(L),U=a.default.useRef(F);T&&(r=a.default.Children.only(n));let H=T?r&&"object"==typeof r&&r.ref:t,[K,X,z]=(0,_.useIntersection)({rootMargin:"200px"}),Q=a.default.useCallback(e=>{(U.current!==F||D.current!==L)&&(z(),U.current=F,D.current=L),K(e)},[F,L,z,K]),W=(0,g.useMergedRef)(Q,H);a.default.useEffect(()=>{q&&X&&S&&y(q,L,F,{locale:O},{kind:G},A)},[F,L,X,O,S,null==w?void 0:w.locale,q,A,G]);let Z={ref:W,onClick(e){T||"function"!=typeof N||N(e),T&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),q&&!e.defaultPrevented&&function(e,t,n,r,o,l,i,s,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,u.isLocalURL)(n)))return;e.preventDefault();let f=()=>{let e=null==i||i;"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:l,locale:s,scroll:e}):t[o?"replace":"push"](r||n,{scroll:e})};c?a.default.startTransition(f):f()}(e,q,L,F,C,E,B,O,A)},onMouseEnter(e){T||"function"!=typeof P||P(e),T&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),q&&(S||!A)&&y(q,L,F,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:G},A)},onTouchStart:function(e){T||"function"!=typeof M||M(e),T&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),q&&(S||!A)&&y(q,L,F,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:G},A)}};if((0,s.isAbsoluteUrl)(F))Z.href=F;else if(!T||j||"a"===r.type&&!("href"in r.props)){let e=void 0!==O?O:null==w?void 0:w.locale,t=(null==w?void 0:w.isLocaleDomain)&&(0,p.getDomainLocale)(F,e,null==w?void 0:w.locales,null==w?void 0:w.domainLocales);Z.href=t||(0,m.addBasePath)((0,c.addLocale)(F,e,null==w?void 0:w.defaultLocale))}return T?a.default.cloneElement(r,Z):(0,o.jsx)("a",{...k,...Z,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4229:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return i}});let r=n(7294),o=n(4474),a="function"==typeof IntersectionObserver,l=new Map,u=[];function i(e){let{rootRef:t,rootMargin:n,disabled:i}=e,s=i||!a,[c,d]=(0,r.useState)(!1),f=(0,r.useRef)(null),_=(0,r.useCallback)(e=>{f.current=e},[]);return(0,r.useEffect)(()=>{if(a){if(s||c)return;let e=f.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:o,elements:a}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=u.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=l.get(r)))return t;let o=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:o},u.push(n),l.set(n,t),t}(n);return a.set(e,t),o.observe(e),function(){if(a.delete(e),o.unobserve(e),0===a.size){o.disconnect(),l.delete(r);let e=u.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&u.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!c){let e=(0,o.requestIdleCallback)(()=>d(!0));return()=>(0,o.cancelIdleCallback)(e)}},[s,n,t,c,f.current]),[_,c,(0,r.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=n(7294);function o(e,t){let n=(0,r.useRef)(()=>{}),o=(0,r.useRef)(()=>{});return(0,r.useMemo)(()=>e&&t?r=>{null===r?(n.current(),o.current()):(n.current=a(e,r),o.current=a(t,r))}:e||t,[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(5893);n(7294);var o=n(1500),a=n.n(o);let l=e=>{let{children:t,className:n="",variant:o="button",onClick:l}=e;return(0,r.jsxs)("div",{className:[a()["liquidGlass-wrapper"],a()[o],n].filter(Boolean).join(" "),onClick:l,children:[(0,r.jsx)("div",{className:a()["liquidGlass-effect"]}),(0,r.jsx)("div",{className:a()["liquidGlass-tint"]}),(0,r.jsx)("div",{className:a()["liquidGlass-shine"]}),(0,r.jsx)("div",{className:a()["liquidGlass-text"],children:t})]})}},1123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(5893),o=n(7294),a=n(1163),l=n(837),u=n(1664),i=n.n(u),s=n(658),c=n.n(s),d=n(3908);function f(){let e=(0,a.useRouter)(),{mode:t}=e.query,[n,u]=(0,o.useState)("login"),[s,f]=(0,o.useState)(""),[_,p]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),[g,h]=(0,o.useState)(""),[y,b]=(0,o.useState)(!1),{currentUser:I,login:v,signup:j,googleSignIn:C,resetPassword:E}=(0,l.a)();(0,o.useEffect)(()=>{I&&e.push("/shop/friends-and-family")},[I,e]),(0,o.useEffect)(()=>{"signup"===t&&u("signup")},[t]);let B=async e=>{e.preventDefault(),b(!0),h("");try{if("login"===n)await v(s,_);else if("signup"===n){if(_!==m){h("passwords do not match");return}await j(s,_)}else if("forgot"===n){await E(s),h("password reset email sent! check your inbox.");return}}catch(e){h(e.message||"authentication failed")}finally{b(!1)}},O=async()=>{b(!0),h("");try{await C()}catch(e){h(e.message||"google sign in failed")}finally{b(!1)}};return(0,r.jsx)("div",{className:c().container,children:(0,r.jsxs)("div",{className:c().authContainer,children:[(0,r.jsx)("h1",{style:{fontSize:"2.5rem",marginBottom:"2rem",textAlign:"center"},children:"login"===n?"friends and family":"signup"===n?"signup":"reset password"}),(0,r.jsxs)("div",{className:c().authModeSelector,children:[(0,r.jsx)("button",{onClick:()=>u("login"),className:"".concat(c().submitButton," ").concat("login"===n?c().primaryButton:c().secondaryButton),children:"login"}),(0,r.jsx)("button",{onClick:()=>u("signup"),className:"".concat(c().submitButton," ").concat("signup"===n?c().primaryButton:c().secondaryButton),children:"sign up"})]}),(0,r.jsx)("button",{onClick:O,disabled:y,className:"".concat(c().submitButton," ").concat(c().googleButton),children:y?"connecting...":"continue with google"}),(0,r.jsxs)("form",{onSubmit:B,className:c().authForm,children:[(0,r.jsx)("input",{type:"email",value:s,onChange:e=>f(e.target.value),placeholder:"email",className:c().inputField,required:!0}),"forgot"!==n&&(0,r.jsx)("input",{type:"password",value:_,onChange:e=>p(e.target.value),placeholder:"password",className:c().inputField,required:!0}),"signup"===n&&(0,r.jsx)("input",{type:"password",value:m,onChange:e=>x(e.target.value),placeholder:"confirm password",className:c().inputField,required:!0}),(0,r.jsx)("button",{type:"submit",disabled:y,className:"".concat(c().submitButton," ").concat(c().primaryButton),children:y?"processing...":"login"===n?"login":"signup"===n?"join":"send reset signal"}),"login"===n&&(0,r.jsx)("button",{type:"button",onClick:()=>u("forgot"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"forgot password?"}),"login"!==n&&(0,r.jsx)("button",{type:"button",onClick:()=>u("login"),className:"".concat(c().submitButton," ").concat(c().secondaryButton),children:"back to login"}),g&&(0,r.jsx)("div",{className:g.includes("sent")?c().success:c().error,children:g})]}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(i(),{href:"/",className:c().ctaButton,style:{marginTop:"2rem",textAlign:"center",display:"block"},children:"return to portal"})})]})})}},1500:e=>{e.exports={"liquidGlass-wrapper":"LiquidGlassEffect_liquidGlass-wrapper__FjiJF","liquidGlass-effect":"LiquidGlassEffect_liquidGlass-effect__CFxa_","liquidGlass-tint":"LiquidGlassEffect_liquidGlass-tint__EFBeC","liquidGlass-shine":"LiquidGlassEffect_liquidGlass-shine__rcD99","liquidGlass-text":"LiquidGlassEffect_liquidGlass-text__vMjDO",menu:"LiquidGlassEffect_menu__B50pp",dock:"LiquidGlassEffect_dock__PLv3Q",button:"LiquidGlassEffect_button__W_SOI"}},658:e=>{e.exports={pageContainer:"Index_pageContainer__BRhx3",container:"Index_container__aMZ_1",typewriter:"Index_typewriter__DhCdl",form:"Index_form__5W8da",authContainer:"Index_authContainer__iUT4j",authModeSelector:"Index_authModeSelector__RQCh0",authForm:"Index_authForm__dAhFw",inputField:"Index_inputField__BHXuh",submitButton:"Index_submitButton__AnqUI",primaryButton:"Index_primaryButton__dm_nW",googleButton:"Index_googleButton__MCeIk",secondaryButton:"Index_secondaryButton__UuIX7",userDashboard:"Index_userDashboard__Q6zAk",welcomeMessage:"Index_welcomeMessage__k8P4m",userEmail:"Index_userEmail__y3Xtn",collectionContainer:"Index_collectionContainer__KD0zZ",collectionTitle:"Index_collectionTitle__o0etx",productList:"Index_productList__Fxbyr",productItem:"Index_productItem__7vIng",productName:"Index_productName__ChmOR",transferButton:"Index_transferButton__NDYGX",error:"Index_error__iiP_A",subscribedText:"Index_subscribedText__sGK8l",success:"Index_success__XuQG9",sectionHeading:"Index_sectionHeading__bf_r_",friendsAndFamilySection:"Index_friendsAndFamilySection__1lUQ0",friendsAndFamilyText:"Index_friendsAndFamilyText__QWlnu",aboutSection:"Index_aboutSection__HVjRk",sectionText:"Index_sectionText__1zqHh",instagramContainer:"Index_instagramContainer__q1z6E",instagramLogo:"Index_instagramLogo__HiEhN",instagramText:"Index_instagramText__muuVt",scannerText:"Index_scannerText__rpaj1",scrollButton:"Index_scrollButton__RZuel",scrollButtonDown:"Index_scrollButtonDown__YWJ4G",scrollButtonUp:"Index_scrollButtonUp__yv4_8",logo:"Index_logo__aFi93",cameraActive:"Index_cameraActive__OO7Rj",cameraButton:"Index_cameraButton___r7Eo",scannerImage:"Index_scannerImage__hX8ly",contentPanel:"Index_contentPanel__S18Wq",ctaContainer:"Index_ctaContainer__DNOtL",textContainer:"Index_textContainer__Fkslp",heroPanel:"Index_heroPanel__PMZfx",ctaButton:"Index_ctaButton__PkaJB",mirrorBackground:"Index_mirrorBackground__XKxso"}},1664:(e,t,n)=>{e.exports=n(8342)},1163:(e,t,n)=>{e.exports=n(3079)}},e=>{var t=t=>e(e.s=t);e.O(0,[888,774,179],()=>t(3236)),_N_E=e.O()}]);