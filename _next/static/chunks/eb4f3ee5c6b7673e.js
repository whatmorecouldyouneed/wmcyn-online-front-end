(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25479,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return n}});let n=e.r(41705)._(e.r(91788)).default.createContext(null)},89129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return w},NormalizeError:function(){return _},PageNotFoundError:function(){return v},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return a},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return m},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return A}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&m(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class _ extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function A(e){return JSON.stringify({message:e.message,stack:e.stack})}},20955,(e,t,r)=>{var n={229:function(e){var t,r,n,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&m())}function m(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||s(m)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}},i=!0;try{n[e](r,r.exports,a),i=!1}finally{i&&delete o[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/process/",t.exports=a(229)},50461,(e,t,r)=>{"use strict";var n,o;t.exports=(null==(n=e.g.process)?void 0:n.env)&&"object"==typeof(null==(o=e.g.process)?void 0:o.env)?e.g.process:e.r(20955)},8481,(e,t,r)=>{"use strict";var n=Symbol.for("react.transitional.element");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return{$$typeof:n,type:e,key:o,ref:void 0!==(t=r.ref)?t:null,props:r}}r.Fragment=Symbol.for("react.fragment"),r.jsx=o,r.jsxs=o},91398,(e,t,r)=>{"use strict";t.exports=e.r(8481)},61556,(e,t,r)=>{"use strict";var n=e.i(50461),o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,v={};function w(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}function b(){}function A(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=w.prototype;var R=A.prototype=new b;R.constructor=A,_(R,w.prototype),R.isPureReactComponent=!0;var x=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function C(e,t,r){var n=r.ref;return{$$typeof:o,type:e,key:t,ref:void 0!==n?n:null,props:r}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g;function O(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function k(e,t,r){if(null==e)return e;var n=[],i=0;return!function e(t,r,n,i,s){var l,c,u,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var m=!1;if(null===t)m=!0;else switch(d){case"bigint":case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case o:case a:m=!0;break;case p:return e((m=t._init)(t._payload),r,n,i,s)}}if(m)return s=s(t),m=""===i?"."+O(t,0):i,x(s)?(n="",null!=m&&(n=m.replace(I,"$&/")+"/"),e(s,r,n,"",function(e){return e})):null!=s&&(M(s)&&(l=s,c=n+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+m,s=C(l.type,c,l.props)),r.push(s)),1;m=0;var f=""===i?".":i+":";if(x(t))for(var h=0;h<t.length;h++)d=f+O(i=t[h],h),m+=e(i,r,n,d,s);else if("function"==typeof(h=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=g&&u[g]||u["@@iterator"])?u:null))for(t=h.call(t),h=0;!(i=t.next()).done;)d=f+O(i=i.value,h++),m+=e(i,r,n,d,s);else if("object"===d){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,i,s);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return m}(e,n,"","",function(e){return t.call(r,e,i++)}),n}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof n.default&&"function"==typeof n.default.emit)return void n.default.emit("uncaughtException",e);console.error(e)};r.Activity=h,r.Children={map:k,forEach:function(e,t,r){k(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return k(e,function(){t++}),t},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=w,r.Fragment=i,r.Profiler=l,r.PureComponent=A,r.StrictMode=s,r.Suspense=m,r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,r.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},r.cache=function(e){return function(){return e.apply(null,arguments)}},r.cacheSignal=function(){return null},r.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var n=_({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.key&&(o=""+t.key),t)T.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&("ref"!==a||void 0!==t.ref)&&(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];n.children=i}return C(e.type,o,n)},r.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:c,_context:e},e},r.createElement=function(e,t,r){var n,o={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)T.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(o[n]=t[n]);var i=arguments.length-2;if(1===i)o.children=r;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===o[n]&&(o[n]=i[n]);return C(e,a,o)},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:d,render:e}},r.isValidElement=M,r.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:N}},r.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},r.startTransition=function(e){var t=E.T,r={};E.T=r;try{var n=e(),o=E.S;null!==o&&o(r,n),"object"==typeof n&&null!==n&&"function"==typeof n.then&&n.then(S,j)}catch(e){j(e)}finally{null!==t&&null!==r.types&&(t.types=r.types),E.T=t}},r.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},r.use=function(e){return E.H.use(e)},r.useActionState=function(e,t,r){return E.H.useActionState(e,t,r)},r.useCallback=function(e,t){return E.H.useCallback(e,t)},r.useContext=function(e){return E.H.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},r.useEffect=function(e,t){return E.H.useEffect(e,t)},r.useEffectEvent=function(e){return E.H.useEffectEvent(e)},r.useId=function(){return E.H.useId()},r.useImperativeHandle=function(e,t,r){return E.H.useImperativeHandle(e,t,r)},r.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},r.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},r.useMemo=function(e,t){return E.H.useMemo(e,t)},r.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},r.useReducer=function(e,t,r){return E.H.useReducer(e,t,r)},r.useRef=function(e){return E.H.useRef(e)},r.useState=function(e){return E.H.useState(e)},r.useSyncExternalStore=function(e,t,r){return E.H.useSyncExternalStore(e,t,r)},r.useTransition=function(){return E.H.useTransition()},r.version="19.2.3"},91788,(e,t,r)=>{"use strict";t.exports=e.r(61556)},41705,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},52456,(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}},13584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return n}});let n=e.r(41705)._(e.r(91788)).default.createContext({})},94470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},17431,(e,t,r)=>{"use strict";var n=e.r(91788);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal"),l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,r.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},r.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},r.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,i.d.C(e,t))},r.prefetchDNS=function(e){"string"==typeof e&&i.d.D(e)},r.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var r=t.as,n=c(r,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:o,fetchPriority:a}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:o,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},r.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},r.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var r=t.as,n=c(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},r.preloadModule=function(e,t){if("string"==typeof e)if(t){var r=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},r.requestFormReset=function(e){i.d.r(e)},r.unstable_batchedUpdates=function(e,t){return e(t)},r.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},r.useFormStatus=function(){return l.H.useHostTransitionStatus()},r.version="19.2.3"},30943,(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),t.exports=e.r(17431)},20262,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getDeploymentId:function(){return a},getDeploymentIdQueryOrEmptyString:function(){return i}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});function a(){return!1}function i(){return""}},3828,(e,t,r)=>{t.exports=e.r(26990)},98948,e=>{e.v({aboutSection:"Index-module-scss-module__11zA9a__aboutSection",authContainer:"Index-module-scss-module__11zA9a__authContainer",authForm:"Index-module-scss-module__11zA9a__authForm",authModeSelector:"Index-module-scss-module__11zA9a__authModeSelector",authSwitchLink:"Index-module-scss-module__11zA9a__authSwitchLink",authSwitchText:"Index-module-scss-module__11zA9a__authSwitchText",cameraActive:"Index-module-scss-module__11zA9a__cameraActive",cameraButton:"Index-module-scss-module__11zA9a__cameraButton",collectionContainer:"Index-module-scss-module__11zA9a__collectionContainer",collectionTitle:"Index-module-scss-module__11zA9a__collectionTitle",container:"Index-module-scss-module__11zA9a__container",contentPanel:"Index-module-scss-module__11zA9a__contentPanel",ctaButton:"Index-module-scss-module__11zA9a__ctaButton",ctaContainer:"Index-module-scss-module__11zA9a__ctaContainer",error:"Index-module-scss-module__11zA9a__error",form:"Index-module-scss-module__11zA9a__form",friendsAndFamilySection:"Index-module-scss-module__11zA9a__friendsAndFamilySection",friendsAndFamilyText:"Index-module-scss-module__11zA9a__friendsAndFamilyText",googleButton:"Index-module-scss-module__11zA9a__googleButton",heroPanel:"Index-module-scss-module__11zA9a__heroPanel",inputField:"Index-module-scss-module__11zA9a__inputField",logo:"Index-module-scss-module__11zA9a__logo",mirrorBackground:"Index-module-scss-module__11zA9a__mirrorBackground",pageContainer:"Index-module-scss-module__11zA9a__pageContainer",primaryButton:"Index-module-scss-module__11zA9a__primaryButton",productItem:"Index-module-scss-module__11zA9a__productItem",productList:"Index-module-scss-module__11zA9a__productList",productName:"Index-module-scss-module__11zA9a__productName",scannerImage:"Index-module-scss-module__11zA9a__scannerImage",scannerText:"Index-module-scss-module__11zA9a__scannerText",scrollButton:"Index-module-scss-module__11zA9a__scrollButton",scrollButtonDown:"Index-module-scss-module__11zA9a__scrollButtonDown",scrollButtonUp:"Index-module-scss-module__11zA9a__scrollButtonUp",secondaryButton:"Index-module-scss-module__11zA9a__secondaryButton",sectionHeading:"Index-module-scss-module__11zA9a__sectionHeading",sectionText:"Index-module-scss-module__11zA9a__sectionText",socialMediaContainer:"Index-module-scss-module__11zA9a__socialMediaContainer",socialMediaIcons:"Index-module-scss-module__11zA9a__socialMediaIcons",socialMediaLogo:"Index-module-scss-module__11zA9a__socialMediaLogo",socialMediaText:"Index-module-scss-module__11zA9a__socialMediaText",submitButton:"Index-module-scss-module__11zA9a__submitButton",subscribedText:"Index-module-scss-module__11zA9a__subscribedText",success:"Index-module-scss-module__11zA9a__success",textContainer:"Index-module-scss-module__11zA9a__textContainer",transferButton:"Index-module-scss-module__11zA9a__transferButton",typewriter:"Index-module-scss-module__11zA9a__typewriter",userDashboard:"Index-module-scss-module__11zA9a__userDashboard",userEmail:"Index-module-scss-module__11zA9a__userEmail",welcomeMessage:"Index-module-scss-module__11zA9a__welcomeMessage"})},13024,e=>{e.v({actions:"ARMetadataOverlay-module-scss-module__srXbZq__actions",available:"ARMetadataOverlay-module-scss-module__srXbZq__available",claimButton:"ARMetadataOverlay-module-scss-module__srXbZq__claimButton",claimed:"ARMetadataOverlay-module-scss-module__srXbZq__claimed",container:"ARMetadataOverlay-module-scss-module__srXbZq__container",description:"ARMetadataOverlay-module-scss-module__srXbZq__description",fadeOut:"ARMetadataOverlay-module-scss-module__srXbZq__fadeOut",header:"ARMetadataOverlay-module-scss-module__srXbZq__header",label:"ARMetadataOverlay-module-scss-module__srXbZq__label",metadata:"ARMetadataOverlay-module-scss-module__srXbZq__metadata",metadataRow:"ARMetadataOverlay-module-scss-module__srXbZq__metadataRow",overlay:"ARMetadataOverlay-module-scss-module__srXbZq__overlay",purchaseButton:"ARMetadataOverlay-module-scss-module__srXbZq__purchaseButton",shareButton:"ARMetadataOverlay-module-scss-module__srXbZq__shareButton",slideUp:"ARMetadataOverlay-module-scss-module__srXbZq__slideUp",status:"ARMetadataOverlay-module-scss-module__srXbZq__status",title:"ARMetadataOverlay-module-scss-module__srXbZq__title",value:"ARMetadataOverlay-module-scss-module__srXbZq__value"})},84859,e=>{e.v({arCameraContainer:"ARCamera-module-scss-module__xueuma__arCameraContainer",closeButton:"ARCamera-module-scss-module__xueuma__closeButton",loadingOverlay:"ARCamera-module-scss-module__xueuma__loadingOverlay",mountPoint:"ARCamera-module-scss-module__xueuma__mountPoint"})},22125,e=>{"use strict";var t=e.i(91398),r=e.i(91788);let n=[{name:"wmcyn-hoodie-monogram",modelUrl:"/models/wmcyn_3d_logo.glb",scale:.5,markerType:"nft",mindTargetSrc:"/patterns/wmcyn-ar-marker-black.mind",label:"wmcyn ar experience",metadata:{id:"wmcyn-hoodie-001",title:"wmcyn monogram hoodie (sample)",description:"premium hoodie with wmcyn monogram design",printDate:"2025-12-22",printLocation:"raleigh, nc",quantity:1,price:{amount:"priceless",currencyCode:"USD"},isClaimed:!1}},{name:"wmcyn-hq-banner",modelUrl:"/models/wmcyn_3d_logo.glb",scale:.5,markerType:"nft",mindTargetSrc:"/patterns/wmcyn-full-hq-banner.mind",label:"wmcyn ar experience",metadata:{id:"wmcyn-banner-001",title:"wmcyn hq office banner",description:"official wmcyn headquarters office banner",printDate:"2025-12-19",printLocation:"atlanta, ga",quantity:1,price:{amount:"priceless",currencyCode:"USD"},isClaimed:!1}}],o=()=>{let e=window;for(let t of[{name:"MINDAR.IMAGE.MindARThree",value:e.MINDAR?.IMAGE?.MindARThree},{name:"MindARThree",value:e.MindARThree},{name:"MINDAR.MindARThree",value:e.MINDAR?.MindARThree}])if(t.value&&"function"==typeof t.value)return console.log("[getMindARThree] Found at:",t.name),t.value;return console.log("[getMindARThree] Not found. Available:",{MINDAR:!!e.MINDAR,"MINDAR.IMAGE":e.MINDAR?.IMAGE?Object.keys(e.MINDAR.IMAGE):"undefined",MindARThree:!!e.MindARThree,THREE:!!e.THREE}),null};var a=e.i(13024);let i=({metadata:e,isVisible:r,onClaim:n,onShare:o,onPurchase:i,onAction:s})=>{let l=(e,t)=>`${"USD"===t?"$":t}${e}`,c=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});if(!e)return console.warn("[ARMetadataOverlay] No metadata provided, returning null"),null;let u="actions"in e&&Array.isArray(e.actions),d=u?e:null,m=u?null:e;return console.log("[ARMetadataOverlay] Rendering with:",{isARSessionMetadata:u,hasActions:d?d.actions?.length:0,actions:d?.actions,createdAt:d?.createdAt,campaign:d?.campaign,description:e.description,title:e.title}),(0,t.jsx)("div",{className:`${a.default.overlay} ${!r?a.default.fadeOut:""}`,children:(0,t.jsxs)("div",{className:a.default.container,children:[(0,t.jsxs)("div",{className:a.default.header,children:[(0,t.jsx)("h3",{className:a.default.title,children:e.title}),m&&(0,t.jsx)("div",{className:a.default.status,children:m.isClaimed?(0,t.jsx)("span",{className:a.default.claimed,children:"âœ“ claimed"}):(0,t.jsx)("span",{className:a.default.available,children:"â— available"})})]}),m&&(0,t.jsxs)("div",{className:a.default.metadata,children:[(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"printed:"}),(0,t.jsx)("span",{className:a.default.value,children:c(m.printDate)})]}),(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"location:"}),(0,t.jsx)("span",{className:a.default.value,children:m.printLocation})]}),(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"edition:"}),(0,t.jsxs)("span",{className:a.default.value,children:[m.quantity," pieces"]})]}),(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"price:"}),(0,t.jsx)("span",{className:a.default.value,children:l(m.price.amount,m.price.currencyCode)})]})]}),d&&(d.createdAt||d.campaign)&&(0,t.jsxs)("div",{className:a.default.metadata,children:[d.createdAt&&(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"printed:"}),(0,t.jsx)("span",{className:a.default.value,children:c(d.createdAt)})]}),d.campaign&&(0,t.jsxs)("div",{className:a.default.metadataRow,children:[(0,t.jsx)("span",{className:a.default.label,children:"campaign:"}),(0,t.jsx)("span",{className:a.default.value,children:d.campaign})]})]}),e.description&&e.description.trim()&&(0,t.jsx)("p",{className:a.default.description,children:e.description}),(0,t.jsx)("div",{className:a.default.actions,children:d?d.actions.map((e,r)=>(0,t.jsx)("button",{className:"purchase"===e.type?a.default.purchaseButton:"claim"===e.type?a.default.claimButton:"share"===e.type?a.default.shareButton:a.default.infoButton,onClick:()=>{e.url&&window.open(e.url,"_blank"),s?.(e)},children:e.label},r)):m?(0,t.jsxs)(t.Fragment,{children:[!m.isClaimed&&n&&(0,t.jsx)("button",{className:a.default.claimButton,onClick:n,children:"claim"}),(0,t.jsxs)("button",{className:a.default.purchaseButton,disabled:!0,children:["buy ",l(m.price.amount,m.price.currencyCode)]}),o&&(0,t.jsx)("button",{className:a.default.shareButton,onClick:o,children:"ðŸ“¸"})]}):null})]})})},s="your_facebook_app_id_here",l=()=>{let e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),r=/ipad|iphone|ipod/.test(e);return{isMobile:t,isIOS:r,isAndroid:/android/.test(e),supportsWebShare:"share"in navigator&&"function"==typeof navigator.share}},c=e=>new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{"string"==typeof n.result?t(n.result.split(",")[1]):r(Error("Failed to convert blob to base64"))},n.onerror=r,n.readAsDataURL(e)}),u=async e=>{let{backgroundImage:t,stickerImage:r,backgroundTopColor:n,backgroundBottomColor:o}=e;try{let e=`instagram://story-camera?source_application=${s}`;if(!await new Promise(t=>{let r=document.createElement("iframe");r.style.display="none",r.src=e;let n=setTimeout(()=>{t(!1),document.body.removeChild(r)},2e3);r.onload=()=>{clearTimeout(n),t(!0),document.body.removeChild(r)},document.body.appendChild(r)}))throw Error("Instagram app not available");let a={};return t&&(a["com.instagram.sharedSticker.backgroundImage"]=await c(t)),r&&(a["com.instagram.sharedSticker.stickerImage"]=await c(r)),n&&(a["com.instagram.sharedSticker.backgroundTopColor"]=n),o&&(a["com.instagram.sharedSticker.backgroundBottomColor"]=o),localStorage.setItem("instagram_share_data",JSON.stringify(a)),window.location.href=e,!0}catch(e){return console.error("iOS Instagram sharing failed:",e),!1}},d=async e=>{let{backgroundImage:t,text:r,url:n}=e;try{if(navigator.share&&t){let e={files:[new File([t],"wmcyn-ar-experience.png",{type:"image/png"})],title:"WMCYN AR Experience",text:r||"Check out this amazing AR experience!",url:n};if(navigator.canShare&&navigator.canShare(e))return await navigator.share(e),!0}let e=`instagram://story-camera?source_application=${s}`;return window.location.href=e,setTimeout(()=>{window.open("https://instagram.com","_blank")},2e3),!0}catch(e){return console.error("Android Instagram sharing failed:",e),!1}},m=async e=>{let t=l(),{backgroundImage:r,text:n,url:o}=e;if(t.isMobile)try{if(t.isIOS){if(await u(e))return{success:!0,method:"ios_custom_url_scheme",message:"Opening Instagram app..."}}else if(t.isAndroid&&await d(e))return{success:!0,method:"android_intent",message:"Opening Instagram app..."}}catch(e){console.warn("Native app sharing failed, trying web methods")}if(t.supportsWebShare&&r)try{let e={files:[new File([r],"wmcyn-ar-experience.png",{type:"image/png"})],title:"WMCYN AR Experience",text:n||"Check out this amazing AR experience!",url:o};if(navigator.canShare&&navigator.canShare(e))return await navigator.share(e),{success:!0,method:"web_share_api_with_file",message:"Shared successfully!"}}catch(e){console.warn("Web Share API with file failed")}if(t.supportsWebShare)try{return await navigator.share({title:"WMCYN AR Experience",text:n||"Check out this amazing AR experience!",url:o||"https://wmcyn.online"}),{success:!0,method:"web_share_api_text",message:"Shared successfully!"}}catch(e){console.warn("Web Share API text sharing failed")}if(r)try{let e=URL.createObjectURL(r),t=document.createElement("a");t.href=e,t.download="wmcyn-ar-experience.png",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e);let a=`${n||"Check out this amazing WMCYN AR experience!"} ${o||"https://wmcyn.online"}`;return await navigator.clipboard.writeText(a),{success:!0,method:"download_and_copy",message:"Image downloaded! Share text copied to clipboard. Upload to your Instagram Story and paste the text."}}catch(e){console.warn("Download method failed")}try{return await navigator.clipboard.writeText(o||"https://wmcyn.online"),{success:!0,method:"copy_url_fallback",message:"Link copied to clipboard! Share it manually on Instagram Story."}}catch(t){let e=o||"https://wmcyn.online";return{success:!1,method:"manual_fallback",message:`Please copy this link manually: ${e}`}}},f=async e=>{try{console.log("Capturing AR scene for Instagram story...");let t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw Error("Could not get canvas context");if(t.width=1080,t.height=1920,r.fillStyle="#000000",r.fillRect(0,0,t.width,t.height),e.videoElement&&e.videoElement.videoWidth>0){let n,o,a,i,s=e.videoElement.videoWidth/e.videoElement.videoHeight,l=t.width/t.height;s>l?(n=(o=t.height)*s,a=(t.width-n)/2,i=0):(o=(n=t.width)/s,a=0,i=(t.height-o)/2),r.drawImage(e.videoElement,a,i,n,o)}if(e.canvasElement){let n,o,a,i,s=e.canvasElement.width/e.canvasElement.height,l=t.width/t.height;s>l?(n=(o=t.height)*s,a=(t.width-n)/2,i=0):(o=(n=t.width)/s,a=0,i=(t.height-o)/2),r.globalCompositeOperation="source-over",r.drawImage(e.canvasElement,a,i,n,o)}return await p(r,t,e.metadata),new Promise(e=>{t.toBlob(t=>{e(t)},"image/jpeg",.95)})}catch(e){return console.error("Error capturing AR scene:",e),null}},p=async(e,t,r)=>{let n=t.height-300-60,o=e.createLinearGradient(0,n,0,n+300);o.addColorStop(0,"rgba(0, 0, 0, 0.8)"),o.addColorStop(1,"rgba(0, 0, 0, 0.95)"),e.fillStyle=o,e.fillRect(60,n,t.width-120,300),e.strokeStyle="rgba(255, 255, 255, 0.2)",e.lineWidth=2,e.strokeRect(60,n,t.width-120,300),e.fillStyle="#ffffff",e.font="bold 48px Arial",e.textAlign="center",e.fillText("WMCYN",t.width/2,n+60),e.font="bold 64px Arial",e.fillStyle="#ffffff",e.textAlign="center",e.fillText(r.title.toUpperCase(),t.width/2,n+130);let a=`${"USD"===r.price.currencyCode?"$":r.price.currencyCode}${r.price.amount}`;e.font="42px Arial",e.fillStyle="#10b981",e.textAlign="left",e.fillText(a,100,n+190),e.fillStyle="#ffffff",e.textAlign="right",e.fillText(r.printLocation,t.width-60-40,n+190),e.font="36px Arial",e.fillStyle="rgba(255, 255, 255, 0.8)",e.textAlign="center",e.fillText(`LIMITED EDITION â€¢ ${r.quantity} PIECES`,t.width/2,n+240),e.font="32px Arial",e.fillStyle="rgba(255, 255, 255, 0.7)",e.textAlign="center",e.fillText("SCAN WMCYN QR CODE TO EXPERIENCE IN AR",t.width/2,n+280)},h=async e=>{try{console.log("Sharing AR scene to Instagram...",e.metadata);let t=await f(e);if(!t)throw Error("Failed to capture AR scene");l().isMobile?await m({backgroundImage:t}):(g(t,`wmcyn-ar-${e.metadata.id}.jpg`),alert("Image saved! Please upload this image to your Instagram story manually."))}catch(e){console.error("Error sharing to Instagram:",e),window.open("https://instagram.com","_blank")}},g=(e,t)=>{let r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)};var y=e.i(84859);e.s(["default",0,({onClose:a,configs:s,meta:l})=>{let c=(0,r.useRef)(null),[u,d]=(0,r.useState)(!0),[m,f]=(0,r.useState)(null),p=s||n,g=(0,r.useCallback)(e=>{f(e)},[]);(({mountRef:t,configs:n,setIsLoading:a})=>{let i=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(!1),u=(0,r.useRef)(!1),d=(0,r.useRef)(null),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!n||0===n.length)return;let r=t.current;if(!r)return void a(!1);if(c.current)return;u.current=!1;let f=n.filter(e=>e?.markerType==="nft"&&e?.mindTargetSrc),p=n.filter(e=>e?.markerType==="pattern"||!e?.markerType&&e?.patternUrl);return f=f.sort((e,t)=>{let r=e.name?.includes("hoodie"),n=t.name?.includes("hoodie");return r&&!n?-1:!r&&n?1:0}),console.log("[useARScene] Initializing with configs:",{totalConfigs:n.length,nftConfigs:f.length,patternConfigs:p.length,nftMarkers:f.map(e=>({name:e.name,mindTargetSrc:e.mindTargetSrc})),markerOrder:f.map(e=>e.name)}),f.length>0?(console.log("[useARScene] Using NFT AR mode with",f.length,"marker(s)"),h(r,f)):p.length>0?(console.log("[useARScene] Using Pattern AR mode (fallback)"),y(r,p[0])):(console.error("[useARScene] No valid marker configs found"),a(!1)),()=>{if(u.current=!0,l.current&&(cancelAnimationFrame(l.current),l.current=null),m.current){try{m.current.stop()}catch(e){}m.current=null}s.current&&(s.current.getTracks().forEach(e=>e.stop()),s.current=null),i.current&&(i.current.srcObject=null,i.current.remove(),i.current=null),d.current?.renderer&&(d.current.renderer.dispose(),d.current.renderer.domElement.remove(),d.current=null),c.current=!1};async function h(e,t){console.log("[useARScene] Initializing NFT AR with",t.length,"marker(s)");for(let r=0;r<t.length;r++){let n=t[r];console.log(`[useARScene] Attempting to initialize with marker ${r+1}/${t.length}:`,{name:n.name,mindTargetSrc:n.mindTargetSrc});try{await g(e,n,t),console.log("[useARScene] Successfully initialized with marker:",n.name);break}catch(e){if(console.error(`[useARScene] Failed to initialize with marker ${n.name}:`,e),r===t.length-1)throw Error(`Failed to initialize with any marker. Last error: ${e.message}`);console.log("[useARScene] Trying next marker...")}}}async function g(e,t,r){try{let r;console.log("[useARScene] Starting NFT AR initialization..."),console.log("[useARScene] Checking camera permission...");try{let e=await navigator.permissions?.query({name:"camera"});console.log("[useARScene] Camera permission status:",e?.state)}catch(e){console.log("[useARScene] Could not query camera permission (normal on some browsers)")}let n=t.mindTargetSrc;console.log("[useARScene] Checking .mind file accessibility:",n);let i=!1;try{let e=await fetch(n,{method:"GET"});if(!e.ok)throw Error(`.mind file not accessible: ${e.status} ${e.statusText}`);let t=e.headers.get("content-type"),r=e.headers.get("content-length");console.log("[useARScene] .mind file accessible:",{contentType:t,contentLength:r,url:n,status:e.status});let o=await e.blob();if(console.log("[useARScene] .mind file blob size:",o.size,"bytes"),0===o.size)throw Error(".mind file is empty");i=!0}catch(e){if(console.error("[useARScene] .mind file fetch failed:",e.message),console.error("[useARScene] .mind file URL:",n),console.error("[useARScene] Full fetch error:",e),e.message.includes("not accessible")||e.message.includes("empty"))throw Error(`Cannot load .mind file: ${n}. Error: ${e.message}`)}let s=await new Promise((e,t)=>{let r=o();if(r){console.log("[useARScene] MindAR found immediately"),e(r);return}console.log("[useARScene] Waiting for MindAR to load...");let n=0,a=setInterval(()=>{n++;let r=o();if(r){clearInterval(a),console.log("[useARScene] MindAR found after",100*n,"ms"),e(r);return}n>=200&&(clearInterval(a),console.error("[useARScene] MindAR not available after 20 seconds. Window.MINDAR:",window.MINDAR),t(Error("MindAR not available - scripts may have failed to load")))},100)});if(u.current||!s)return;let l=window.THREE;if(!l)throw Error("THREE not available");if(u.current)return;console.log("[useARScene] Creating MindAR instance with target:",t.mindTargetSrc),console.log("[useARScene] File accessibility check result:",i);try{r=new s({container:e,imageTargetSrc:t.mindTargetSrc,maxTrack:1,uiLoading:"no",uiScanning:"no",uiError:"no",filterMinCF:1e-4,filterBeta:.01}),console.log("[useARScene] MindAR instance created successfully"),r.on&&"function"==typeof r.on&&r.on("error",e=>{console.error("[useARScene] MindAR error event:",e),console.error("[useARScene] MindAR error details:",{error:e,targetFile:t.mindTargetSrc,configName:t.name})}),r.error&&console.warn("[useARScene] MindAR has error property:",r.error)}catch(e){throw console.error("[useARScene] MindAR instance creation failed:",e),console.error("[useARScene] Error details:",{message:e?.message,stack:e?.stack,targetFile:t.mindTargetSrc}),Error(`Failed to create MindAR instance. Target file: ${t.mindTargetSrc}. Error: ${e?.message||e}`)}m.current=r;let{renderer:f,scene:p,camera:h}=r;if(!f||!p||!h)throw Error("MindAR missing components");p.add(new l.AmbientLight(0xffffff,.8));let g=new l.DirectionalLight(0xffffff,.6);g.position.set(5,10,7),p.add(g);let y=r.addAnchor(0);y.group&&!p.children.includes(y.group)&&p.add(y.group);let _=t?.modelUrl||"/models/wmcyn_3d_logo.glb",v=null;console.log("[useARScene] Loading 3D model from:",_);let w=l.GLTFLoader;if(w)try{let e=new w;v=(await new Promise((t,r)=>{e.load(_,e=>{console.log("[useARScene] Model loaded successfully"),t(e)},e=>{e.lengthComputable&&console.log("[useARScene] Model loading:",Math.round(e.loaded/e.total*100)+"%")},e=>{console.error("[useARScene] Model load error:",e),r(e)})})).scene;let r=new l.Box3().setFromObject(v),n=r.getSize(new l.Vector3),o=Math.max(n.x,n.y,n.z),a=(t.scale||.8)/o;v.scale.setScalar(a);let i=r.getCenter(new l.Vector3);v.position.set(-i.x*a,-.6,-i.z*a)}catch(e){console.error("[useARScene] Model load failed:",e?.message||e)}else console.warn("[useARScene] GLTFLoader not available");v?y.group.add(v):console.error("[useARScene] No model loaded - check model path:",_);let b=0;d.current={renderer:f,scene:p,camera:h,model:v},y.onTargetFound=()=>{console.log("[useARScene] ðŸŽ¯ TARGET FOUND! Config:",t?.name),y.group&&(y.group.visible=!0,y.group.children.forEach(e=>{e.visible=!0})),t?.onFound?(console.log("[useARScene] Calling onFound callback"),t.onFound()):console.log("[useARScene] No onFound callback defined")},y.onTargetLost=()=>{console.log("[useARScene] Target lost")},console.log("[useARScene] Starting MindAR..."),console.log("[useARScene] MindAR instance:",{hasRenderer:!!r.renderer,hasScene:!!r.scene,hasCamera:!!r.camera,imageTargetSrc:t.mindTargetSrc});let A=new Promise((e,t)=>{try{let n=r.start();n&&"function"==typeof n.then?n.then(()=>{console.log("[useARScene] MindAR.start() promise resolved"),e()}).catch(e=>{console.error("[useARScene] MindAR.start() promise rejected:",e),t(e)}):(console.log("[useARScene] MindAR.start() completed synchronously"),e())}catch(e){console.error("[useARScene] MindAR.start() threw error:",e),t(e)}}),R=new Promise((e,r)=>{setTimeout(()=>{console.error("[useARScene] Timeout reached - MindAR.start() did not complete"),r(Error(`MindAR start timed out after 30 seconds. Check camera permissions and .mind file: ${t.mindTargetSrc}`))},3e4)}),x=setInterval(()=>{console.log("[useARScene] Still waiting for MindAR.start()...",{targetFile:t.mindTargetSrc,configName:t.name})},5e3);try{await Promise.race([A,R]),clearInterval(x)}catch(r){clearInterval(x);let e=r?.message||String(r);if(console.error("[useARScene] MindAR start failed:",e),console.error("[useARScene] Error details:",{message:e,targetFile:t.mindTargetSrc,configName:t.name,error:r}),e.includes("Load failed")||e.includes("null"))throw Error(`Failed to load .mind file: ${t.mindTargetSrc}. Please verify the file exists and is properly compiled. Original error: ${e}`);throw r}if(console.log("[useARScene] MindAR started successfully"),u.current)return void r.stop();let S=performance.now();f.setAnimationLoop(()=>{if(u.current)return;let e=performance.now(),t=Math.min((e-S)/1e3,.1);S=e,d.current?.model&&(b+=.005*t*60,d.current.model.rotation.y=b),f.render(p,h)}),c.current=!0,a(!1)}catch(o){console.error("[useARScene] NFT AR failed:",o?.message||o),console.error("[useARScene] Full error:",o);let t=o?.message||"MindAR could not load",r="Try refreshing the page";t.includes("timed out")?r="Check your camera permissions and internet connection":t.includes("camera")||t.includes("permission")?r="Please allow camera access and try again":t.includes("not available")&&(r="The AR library failed to load. Check your internet connection");let n=document.createElement("div");n.style.cssText="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.9);color:white;padding:24px;border-radius:12px;text-align:center;z-index:100;max-width:85%;",n.innerHTML=`
          <h3 style="margin:0 0 12px 0;font-size:18px;">AR Initialization Failed</h3>
          <p style="margin:0;font-size:14px;opacity:0.85;">${t}</p>
          <p style="margin:12px 0 16px 0;font-size:13px;opacity:0.65;">${r}</p>
          <button onclick="location.reload()" style="background:#fff;color:#000;border:none;padding:10px 24px;border-radius:8px;font-size:14px;cursor:pointer;">Reload Page</button>
        `,e.appendChild(n),a(!1)}}async function y(t,r){try{let n,o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});if(u.current)return void o.getTracks().forEach(e=>e.stop());s.current=o;let m=document.createElement("video");if(m.srcObject=o,m.setAttribute("playsinline","true"),m.setAttribute("webkit-playsinline","true"),m.muted=!0,m.playsInline=!0,m.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1",t.appendChild(m),i.current=m,await m.play(),u.current)return;let f=await e.A(32404),{GLTFLoader:p}=await e.A(63441);if(u.current)return;let h=window.innerWidth,g=window.innerHeight,y=new f.WebGLRenderer({alpha:!0,antialias:!0});y.setSize(h,g),y.setPixelRatio(Math.min(window.devicePixelRatio,2)),y.setClearColor(0,0),y.domElement.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;pointer-events:none",t.appendChild(y.domElement);let _=new f.Scene,v=new f.PerspectiveCamera(60,h/g,.1,1e3);v.position.set(0,0,3),v.lookAt(0,0,0),_.add(new f.AmbientLight(0xffffff,.8));let w=new f.DirectionalLight(0xffffff,.6);w.position.set(5,10,7),_.add(w);let b=r?.modelUrl||"/models/wmcyn_3d_logo.glb";try{let e=new p,t=await new Promise((t,r)=>{e.load(b,t,void 0,r)});if(u.current)return;n=t.scene;let r=new f.Box3().setFromObject(n),o=r.getCenter(new f.Vector3);n.position.sub(o);let a=r.getSize(new f.Vector3),i=Math.max(a.x,a.y,a.z);n.scale.setScalar(1.5/i),n.position.y+=.25,_.add(n)}catch(e){console.error("[useARScene] Pattern AR model load failed:",e?.message||e)}d.current={renderer:y,scene:_,camera:v,model:n,spinRotation:0};let A=performance.now(),R=()=>{if(u.current)return;l.current=requestAnimationFrame(R);let e=performance.now(),t=Math.min((e-A)/1e3,.1);A=e,n&&d.current&&(d.current.spinRotation+=.005*t*60,n.rotation.y=d.current.spinRotation),y.render(_,v)};R(),window.addEventListener("resize",()=>{let e=window.innerWidth,t=window.innerHeight;v.aspect=e/t,v.updateProjectionMatrix(),y.setSize(e,t)}),c.current=!0,r?.onFound?.(),a(!1)}catch(e){console.error("[useARScene] Fallback AR error:",e?.message),a(!1)}}},[])})({mountRef:c,configs:(0,r.useMemo)(()=>p.map(e=>({...e,onFound:()=>g(e)})),[p,g]),setIsLoading:d}),(0,r.useEffect)(()=>{document.body.classList.add("cameraActive"),document.documentElement.classList.add("cameraActive");let e=document.documentElement,t=document.body,r={htmlOverflow:e.style.overflow,htmlWidth:e.style.width,htmlHeight:e.style.height,bodyOverflow:t.style.overflow,bodyPosition:t.style.position,bodyWidth:t.style.width,bodyHeight:t.style.height,bodyLeft:t.style.left,bodyTop:t.style.top,bodyMargin:t.style.margin,bodyPadding:t.style.padding};e.style.overflow="hidden",e.style.width="100vw",e.style.height="100vh",t.style.overflow="hidden",t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.left="0",t.style.top="0",t.style.margin="0",t.style.padding="0",window.scrollTo(0,1);let n=()=>{setTimeout(()=>{window.scrollTo(0,1),c.current&&window.dispatchEvent(new Event("resize"))},100)};return window.addEventListener("orientationchange",n),window.addEventListener("resize",n),()=>{document.body.classList.remove("cameraActive"),document.documentElement.classList.remove("cameraActive"),e.style.overflow=r.htmlOverflow,e.style.width=r.htmlWidth,e.style.height=r.htmlHeight,t.style.overflow=r.bodyOverflow,t.style.position=r.bodyPosition,t.style.width=r.bodyWidth,t.style.height=r.bodyHeight,t.style.left=r.bodyLeft,t.style.top=r.bodyTop,t.style.margin=r.bodyMargin,t.style.padding=r.bodyPadding,window.removeEventListener("orientationchange",n),window.removeEventListener("resize",n)}},[]);let _=(0,r.useMemo)(()=>{if(l){let e={title:l.title||"WMCYN AR Experience",description:l.description,actions:l.actions?.map(e=>({type:e.type,label:e.label,url:e.url}))||[],createdAt:l.createdAt,campaign:l.campaign};return console.log("[ARCamera] overlayMetadata from meta prop:",e),e}return m?.metadata?(console.log("[ARCamera] overlayMetadata from detected marker:",m.metadata),m.metadata):(console.log("[ARCamera] No overlayMetadata available"),null)},[l,m?.metadata]),v=async()=>{if(_){console.log("Sharing product:",_.id||_.title);try{let e=c.current?.querySelector("video"),t=c.current?.querySelector("canvas");await h({metadata:{id:_.id||_.title,title:_.title,price:_.price,printLocation:_.printLocation,quantity:_.quantity},videoElement:e,canvasElement:t})}catch(e){console.error("Error sharing to Instagram:",e),navigator.share?navigator.share({title:_.title||"WMCYN AR",url:window.location.href}):(navigator.clipboard?.writeText(window.location.href),alert("Link copied!"))}}};return(0,t.jsxs)("div",{className:y.default.arCameraContainer,children:[(0,t.jsx)("div",{ref:c,className:y.default.mountPoint}),u&&(0,t.jsx)("div",{className:y.default.loadingOverlay,children:"Initializing AR..."}),!u&&_&&(0,t.jsx)(i,{metadata:_,isVisible:!0,onClaim:()=>{_&&console.log("Claiming product:",_.id||_.title)},onPurchase:()=>{_&&console.log("Purchasing product:",_.id||_.title)},onShare:v,onAction:e=>{e.url&&window.open(e.url,"_blank")}}),a&&(0,t.jsx)("button",{onClick:a,className:y.default.closeButton,children:"Close AR"})]})}],22125)},15125,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={VALID_LOADERS:function(){return a},imageConfigDefault:function(){return i}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let a=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},13521,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let n=e.r(41705)._(e.r(91788)),o=e.r(15125),a=n.default.createContext(o.imageConfigDefault)},68223,e=>{"use strict";var t=e.i(50461),r=e.i(91398),n=e.i(3828),o=e.i(91788),a=e.i(22125),i=e.i(98948);function s(){let e=(0,n.useRouter)(),t=e.query.id,[s,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(!0),[m,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{t&&l(t).then(c).catch(e=>{console.error("failed to load ar session:",e),f(e.message||"failed to load ar session")}).finally(()=>d(!1))},[t]);let p=()=>{window.history.length>1?e.back():e.push("/")};if(u)return(0,r.jsx)("div",{className:i.default.loadingContainer,children:(0,r.jsx)("div",{className:i.default.loadingSpinner,children:"loading ar session..."})});if(m)return(0,r.jsxs)("div",{className:i.default.errorContainer,children:[(0,r.jsx)("h2",{children:"error loading ar session"}),(0,r.jsx)("p",{children:m}),(0,r.jsx)("button",{onClick:p,className:i.default.button,children:"go back"})]});if(!s)return(0,r.jsxs)("div",{className:i.default.errorContainer,children:[(0,r.jsx)("h2",{children:"ar session not found"}),(0,r.jsx)("p",{children:"the requested ar session could not be found."}),(0,r.jsx)("button",{onClick:p,className:i.default.button,children:"go back"})]});let h={name:s.markerPattern.name||s.sessionId||"ar-session",patternUrl:s.markerPattern.url,modelUrl:s.asset3D?.url||"/models/wmcyn_3d_logo.glb",scale:.3,metadata:{...s.metadata,actions:s.metadata.actions?.map(e=>({...e,type:e.type}))||[]},onFound:()=>{console.log("ar session marker found:",s.sessionId)}};return(0,r.jsx)(a.default,{configs:[h],onClose:p})}async function l(e){try{let r=await fetch(`${t.default.env.NEXT_PUBLIC_API_URL||"https://api-rrm3u3yaba-uc.a.run.app"}/v1/ar-sessions/${e}/data`);if(!r.ok){if(404===r.status)throw Error("ar session not found");throw Error(`failed to load ar session: ${r.statusText}`)}return r.json()}catch(e){throw console.error("error loading ar session:",e),e}}e.s(["default",()=>s])},5100,(e,t,r)=>{let n="/ar-session/[id]";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(68223)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/fd7c0943d5cd5e09.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/3dcc93bb4829c1ba.js"].map(t=>e.l(t))).then(()=>t(79466)))},32404,e=>{e.v(t=>Promise.all(["static/chunks/66f53d493ed8ac02.js","static/chunks/560cdb78f6480c9d.js","static/chunks/51b620d5854df9c6.js"].map(t=>e.l(t))).then(()=>t(55146)))},63441,e=>{e.v(t=>Promise.all(["static/chunks/28bc01507d75aeef.js","static/chunks/560cdb78f6480c9d.js"].map(t=>e.l(t))).then(()=>t(63327)))}]);